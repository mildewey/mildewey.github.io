import{S as il,i as sl,s as al,x as ue,y as _e,z as he,r as P,p as G,C as me,e as N,t as Q,c as I,a as L,h as X,d as g,g as U,I as d,J as fe,O as Ne,k as B,l as ce,m as S,P as cl,Q as Ue,j as re,F as Z,b as Se,R as Oe,o as ge,q as de,T as ul,U as _l,V as hl}from"./index-bd8f1dbb.js";import{j as ml}from"./controls-ef78b98b.js";import{S as pl,P as be}from"./Stats-2bcf1bdd.js";function Ae(n,e,t){const l=n.slice();return l[16]=e[t][0],l[17]=e[t][1],l[18]=e,l[19]=t,l}function Le(n,e,t){const l=n.slice();return l[20]=e[t][0],l[21]=e[t][1],l}function De(n,e,t){const l=n.slice();return l[24]=e[t][0],l[25]=e[t][1],l[26]=e,l[27]=t,l}function He(n,e,t){const l=n.slice();return l[20]=e[t][0],l[21]=e[t][1],l}function Re(n,e,t){const l=n.slice();return l[30]=e[t],l}function Ve(n,e,t){const l=n.slice();return l[30]=e[t],l}function qe(n,e,t){const l=n.slice();return l[30]=e[t],l}function ze(n,e,t){const l=n.slice();return l[30]=e[t],l}function Fe(n,e,t){const l=n.slice();return l[30]=e[t],l}function Ge(n){let e,t;return e=new be({props:{doc:n[30]}}),{c(){ue(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,u){he(e,l,u),t=!0},p(l,u){const f={};u[0]&512&&(f.doc=l[30]),e.$set(f)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function Je(n){let e,t;return e=new be({props:{doc:n[30]}}),{c(){ue(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,u){he(e,l,u),t=!0},p(l,u){const f={};u[0]&256&&(f.doc=l[30]),e.$set(f)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function Me(n){let e,t;return e=new be({props:{doc:n[30]}}),{c(){ue(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,u){he(e,l,u),t=!0},p(l,u){const f={};u[0]&128&&(f.doc=l[30]),e.$set(f)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function Qe(n){let e,t;return e=new be({props:{doc:n[30]}}),{c(){ue(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,u){he(e,l,u),t=!0},p(l,u){const f={};u[0]&64&&(f.doc=l[30]),e.$set(f)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function Xe(n){let e,t;return e=new be({props:{doc:n[30]}}),{c(){ue(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,u){he(e,l,u),t=!0},p(l,u){const f={};u[0]&32&&(f.doc=l[30]),e.$set(f)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){G(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function Ye(n){let e,t,l,u;return{c(){e=N("button"),t=Q("Save")},l(f){e=I(f,"BUTTON",{});var i=L(e);t=X(i,"Save"),i.forEach(g)},m(f,i){U(f,e,i),d(e,t),l||(u=fe(e,"click",function(){Ne(n[1])&&n[1].apply(this,arguments)}),l=!0)},p(f,i){n=f},d(f){f&&g(e),l=!1,u()}}}function Ke(n){let e,t,l,u;return{c(){e=N("button"),t=Q("Delete")},l(f){e=I(f,"BUTTON",{});var i=L(e);t=X(i,"Delete"),i.forEach(g)},m(f,i){U(f,e,i),d(e,t),l||(u=fe(e,"click",function(){Ne(n[2])&&n[2].apply(this,arguments)}),l=!0)},p(f,i){n=f},d(f){f&&g(e),l=!1,u()}}}function We(n){let e,t,l,u;return{c(){e=N("button"),t=Q("Export")},l(f){e=I(f,"BUTTON",{});var i=L(e);t=X(i,"Export"),i.forEach(g)},m(f,i){U(f,e,i),d(e,t),l||(u=fe(e,"click",function(){Ne(n[3])&&n[3].apply(this,arguments)}),l=!0)},p(f,i){n=f},d(f){f&&g(e),l=!1,u()}}}function Ze(n){let e,t,l,u,f=Object.entries(n[4].slots),i=[];for(let c=0;c<f.length;c+=1)i[c]=$e(De(n,f,c));return{c(){e=N("h3"),t=Q("Slots"),l=B();for(let c=0;c<i.length;c+=1)i[c].c();u=ce()},l(c){e=I(c,"H3",{});var h=L(e);t=X(h,"Slots"),h.forEach(g),l=S(c);for(let r=0;r<i.length;r+=1)i[r].l(c);u=ce()},m(c,h){U(c,e,h),d(e,t),U(c,l,h);for(let r=0;r<i.length;r+=1)i[r].m(c,h);U(c,u,h)},p(c,h){if(h[0]&17){f=Object.entries(c[4].slots);let r;for(r=0;r<f.length;r+=1){const m=De(c,f,r);i[r]?i[r].p(m,h):(i[r]=$e(m),i[r].c(),i[r].m(u.parentNode,u))}for(;r<i.length;r+=1)i[r].d(1);i.length=f.length}},d(c){c&&g(e),c&&g(l),Z(i,c),c&&g(u)}}}function ye(n){let e,t=n[21].name+"",l,u;return{c(){e=N("option"),l=Q(t),this.h()},l(f){e=I(f,"OPTION",{});var i=L(e);l=X(i,t),i.forEach(g),this.h()},h(){e.__value=u=n[20],e.value=e.__value},m(f,i){U(f,e,i),d(e,l)},p(f,i){i[0]&16&&t!==(t=f[21].name+"")&&re(l,t),i[0]&16&&u!==(u=f[20])&&(e.__value=u,e.value=e.__value)},d(f){f&&g(e)}}}function $e(n){let e,t=n[25].name+"",l,u,f,i,c,h=Object.entries(n[25].options),r=[];for(let _=0;_<h.length;_+=1)r[_]=ye(He(n,h,_));function m(){n[13].call(f,n[24])}return{c(){e=N("p"),l=Q(t),u=B(),f=N("select");for(let _=0;_<r.length;_+=1)r[_].c();this.h()},l(_){e=I(_,"P",{});var p=L(e);l=X(p,t),p.forEach(g),u=S(_),f=I(_,"SELECT",{});var v=L(f);for(let J=0;J<r.length;J+=1)r[J].l(v);v.forEach(g),this.h()},h(){n[0].elements[n[24]]===void 0&&cl(m)},m(_,p){U(_,e,p),d(e,l),U(_,u,p),U(_,f,p);for(let v=0;v<r.length;v+=1)r[v].m(f,null);Ue(f,n[0].elements[n[24]]),i||(c=fe(f,"change",m),i=!0)},p(_,p){if(n=_,p[0]&16&&t!==(t=n[25].name+"")&&re(l,t),p[0]&16){h=Object.entries(n[25].options);let v;for(v=0;v<h.length;v+=1){const J=He(n,h,v);r[v]?r[v].p(J,p):(r[v]=ye(J),r[v].c(),r[v].m(f,null))}for(;v<r.length;v+=1)r[v].d(1);r.length=h.length}p[0]&17&&Ue(f,n[0].elements[n[24]])},d(_){_&&g(e),_&&g(u),_&&g(f),Z(r,_),i=!1,c()}}}function xe(n){let e,t,l,u,f=Object.entries(n[4].upgrades),i=[];for(let c=0;c<f.length;c+=1)i[c]=ll(Ae(n,f,c));return{c(){e=N("h3"),t=Q("Upgades"),l=B();for(let c=0;c<i.length;c+=1)i[c].c();u=ce()},l(c){e=I(c,"H3",{});var h=L(e);t=X(h,"Upgades"),h.forEach(g),l=S(c);for(let r=0;r<i.length;r+=1)i[r].l(c);u=ce()},m(c,h){U(c,e,h),d(e,t),U(c,l,h);for(let r=0;r<i.length;r+=1)i[r].m(c,h);U(c,u,h)},p(c,h){if(h[0]&17){f=Object.entries(c[4].upgrades);let r;for(r=0;r<f.length;r+=1){const m=Ae(c,f,r);i[r]?i[r].p(m,h):(i[r]=ll(m),i[r].c(),i[r].m(u.parentNode,u))}for(;r<i.length;r+=1)i[r].d(1);i.length=f.length}},d(c){c&&g(e),c&&g(l),Z(i,c),c&&g(u)}}}function el(n){let e,t,l,u,f=n[21].name+"",i,c,h,r;n[15][0][n[19]]=[];function m(){n[14].call(t,n[16],n[19])}return{c(){e=N("label"),t=N("input"),u=B(),i=Q(f),c=B(),this.h()},l(_){e=I(_,"LABEL",{});var p=L(e);t=I(p,"INPUT",{type:!0,name:!0}),u=S(p),i=X(p,f),c=S(p),p.forEach(g),this.h()},h(){Se(t,"type","checkbox"),Se(t,"name","upgrades"),t.__value=l=n[20],t.value=t.__value,n[15][0][n[19]].push(t)},m(_,p){U(_,e,p),d(e,t),t.checked=~n[0].elements[`${n[16]}.upgrades`].indexOf(t.__value),d(e,u),d(e,i),d(e,c),h||(r=fe(t,"change",m),h=!0)},p(_,p){n=_,p[0]&16&&l!==(l=n[20])&&(t.__value=l,t.value=t.__value),p[0]&17&&(t.checked=~n[0].elements[`${n[16]}.upgrades`].indexOf(t.__value)),p[0]&16&&f!==(f=n[21].name+"")&&re(i,f)},d(_){_&&g(e),n[15][0][n[19]].splice(n[15][0][n[19]].indexOf(t),1),h=!1,r()}}}function ll(n){let e,t,l=n[17].name+"",u,f,i,c=Object.entries(n[17].options),h=[];for(let r=0;r<c.length;r+=1)h[r]=el(Le(n,c,r));return{c(){e=N("p"),t=N("b"),u=Q(l),f=B();for(let r=0;r<h.length;r+=1)h[r].c();i=ce()},l(r){e=I(r,"P",{});var m=L(e);t=I(m,"B",{});var _=L(t);u=X(_,l),_.forEach(g),m.forEach(g),f=S(r);for(let p=0;p<h.length;p+=1)h[p].l(r);i=ce()},m(r,m){U(r,e,m),d(e,t),d(t,u),U(r,f,m);for(let _=0;_<h.length;_+=1)h[_].m(r,m);U(r,i,m)},p(r,m){if(m[0]&16&&l!==(l=r[17].name+"")&&re(u,l),m[0]&17){c=Object.entries(r[17].options);let _;for(_=0;_<c.length;_+=1){const p=Le(r,c,_);h[_]?h[_].p(p,m):(h[_]=el(p),h[_].c(),h[_].m(i.parentNode,i))}for(;_<h.length;_+=1)h[_].d(1);h.length=c.length}},d(r){r&&g(e),r&&g(f),Z(h,r),r&&g(i)}}}function gl(n){let e,t,l=n[4].name+"",u,f,i,c,h=n[4].level+"",r,m,_,p=n[4].blurb+"",v,J,j,K,pe,ie,b,se,ve,ke,H,M,Ee,we,Te,y,je,$,Pe,Ce,x,Be,Ie;K=new pl({props:{doc:n[4].stats}});let ee=n[9],E=[];for(let o=0;o<ee.length;o+=1)E[o]=Ge(Fe(n,ee,o));const tl=o=>G(E[o],1,1,()=>{E[o]=null});let le=n[8],w=[];for(let o=0;o<le.length;o+=1)w[o]=Je(ze(n,le,o));const nl=o=>G(w[o],1,1,()=>{w[o]=null});let te=n[7],C=[];for(let o=0;o<te.length;o+=1)C[o]=Me(qe(n,te,o));const ol=o=>G(C[o],1,1,()=>{C[o]=null});let ne=n[6],O=[];for(let o=0;o<ne.length;o+=1)O[o]=Qe(Ve(n,ne,o));const rl=o=>G(O[o],1,1,()=>{O[o]=null});let oe=n[5],T=[];for(let o=0;o<oe.length;o+=1)T[o]=Xe(Re(n,oe,o));const fl=o=>G(T[o],1,1,()=>{T[o]=null});let R=n[1]!==null&&Ye(n),V=n[2]!==null&&Ke(n),q=n[3]!==null&&We(n),z=n[4].slots!=={}&&Ze(n),F=n[4].upgrades&&n[4].upgrades!=={}&&xe(n);return{c(){e=N("article"),t=N("h3"),u=Q(l),f=B(),i=N("p"),c=Q("Level "),r=Q(h),m=B(),_=N("p"),v=Q(p),J=B(),j=N("div"),ue(K.$$.fragment),pe=B();for(let o=0;o<E.length;o+=1)E[o].c();ie=B();for(let o=0;o<w.length;o+=1)w[o].c();b=B();for(let o=0;o<C.length;o+=1)C[o].c();se=B();for(let o=0;o<O.length;o+=1)O[o].c();ve=B();for(let o=0;o<T.length;o+=1)T[o].c();ke=B(),H=N("aside"),M=N("div"),R&&R.c(),Ee=B(),V&&V.c(),we=B(),q&&q.c(),Te=B(),y=N("input"),je=B(),$=N("textarea"),Pe=B(),z&&z.c(),Ce=B(),F&&F.c(),this.h()},l(o){e=I(o,"ARTICLE",{});var a=L(e);t=I(a,"H3",{});var k=L(t);u=X(k,l),k.forEach(g),f=S(a),i=I(a,"P",{});var s=L(i);c=X(s,"Level "),r=X(s,h),s.forEach(g),m=S(a),_=I(a,"P",{});var D=L(_);v=X(D,p),D.forEach(g),J=S(a),j=I(a,"DIV",{});var Y=L(j);_e(K.$$.fragment,Y),pe=S(Y);for(let A=0;A<E.length;A+=1)E[A].l(Y);ie=S(Y);for(let A=0;A<w.length;A+=1)w[A].l(Y);b=S(Y);for(let A=0;A<C.length;A+=1)C[A].l(Y);se=S(Y);for(let A=0;A<O.length;A+=1)O[A].l(Y);ve=S(Y);for(let A=0;A<T.length;A+=1)T[A].l(Y);Y.forEach(g),a.forEach(g),ke=S(o),H=I(o,"ASIDE",{});var W=L(H);M=I(W,"DIV",{class:!0});var ae=L(M);R&&R.l(ae),Ee=S(ae),V&&V.l(ae),we=S(ae),q&&q.l(ae),ae.forEach(g),Te=S(W),y=I(W,"INPUT",{}),je=S(W),$=I(W,"TEXTAREA",{}),L($).forEach(g),Pe=S(W),z&&z.l(W),Ce=S(W),F&&F.l(W),W.forEach(g),this.h()},h(){Se(M,"class","row-flex")},m(o,a){U(o,e,a),d(e,t),d(t,u),d(e,f),d(e,i),d(i,c),d(i,r),d(e,m),d(e,_),d(_,v),d(e,J),d(e,j),he(K,j,null),d(j,pe);for(let k=0;k<E.length;k+=1)E[k].m(j,null);d(j,ie);for(let k=0;k<w.length;k+=1)w[k].m(j,null);d(j,b);for(let k=0;k<C.length;k+=1)C[k].m(j,null);d(j,se);for(let k=0;k<O.length;k+=1)O[k].m(j,null);d(j,ve);for(let k=0;k<T.length;k+=1)T[k].m(j,null);U(o,ke,a),U(o,H,a),d(H,M),R&&R.m(M,null),d(M,Ee),V&&V.m(M,null),d(M,we),q&&q.m(M,null),d(H,Te),d(H,y),Oe(y,n[0].name),d(H,je),d(H,$),Oe($,n[0].blurb),d(H,Pe),z&&z.m(H,null),d(H,Ce),F&&F.m(H,null),x=!0,Be||(Ie=[fe(y,"input",n[11]),fe($,"input",n[12])],Be=!0)},p(o,a){(!x||a[0]&16)&&l!==(l=o[4].name+"")&&re(u,l),(!x||a[0]&16)&&h!==(h=o[4].level+"")&&re(r,h),(!x||a[0]&16)&&p!==(p=o[4].blurb+"")&&re(v,p);const k={};if(a[0]&16&&(k.doc=o[4].stats),K.$set(k),a[0]&512){ee=o[9];let s;for(s=0;s<ee.length;s+=1){const D=Fe(o,ee,s);E[s]?(E[s].p(D,a),P(E[s],1)):(E[s]=Ge(D),E[s].c(),P(E[s],1),E[s].m(j,ie))}for(ge(),s=ee.length;s<E.length;s+=1)tl(s);de()}if(a[0]&256){le=o[8];let s;for(s=0;s<le.length;s+=1){const D=ze(o,le,s);w[s]?(w[s].p(D,a),P(w[s],1)):(w[s]=Je(D),w[s].c(),P(w[s],1),w[s].m(j,b))}for(ge(),s=le.length;s<w.length;s+=1)nl(s);de()}if(a[0]&128){te=o[7];let s;for(s=0;s<te.length;s+=1){const D=qe(o,te,s);C[s]?(C[s].p(D,a),P(C[s],1)):(C[s]=Me(D),C[s].c(),P(C[s],1),C[s].m(j,se))}for(ge(),s=te.length;s<C.length;s+=1)ol(s);de()}if(a[0]&64){ne=o[6];let s;for(s=0;s<ne.length;s+=1){const D=Ve(o,ne,s);O[s]?(O[s].p(D,a),P(O[s],1)):(O[s]=Qe(D),O[s].c(),P(O[s],1),O[s].m(j,ve))}for(ge(),s=ne.length;s<O.length;s+=1)rl(s);de()}if(a[0]&32){oe=o[5];let s;for(s=0;s<oe.length;s+=1){const D=Re(o,oe,s);T[s]?(T[s].p(D,a),P(T[s],1)):(T[s]=Xe(D),T[s].c(),P(T[s],1),T[s].m(j,null))}for(ge(),s=oe.length;s<T.length;s+=1)fl(s);de()}o[1]!==null?R?R.p(o,a):(R=Ye(o),R.c(),R.m(M,Ee)):R&&(R.d(1),R=null),o[2]!==null?V?V.p(o,a):(V=Ke(o),V.c(),V.m(M,we)):V&&(V.d(1),V=null),o[3]!==null?q?q.p(o,a):(q=We(o),q.c(),q.m(M,null)):q&&(q.d(1),q=null),a[0]&17&&y.value!==o[0].name&&Oe(y,o[0].name),a[0]&17&&Oe($,o[0].blurb),o[4].slots!=={}?z?z.p(o,a):(z=Ze(o),z.c(),z.m(H,Ce)):z&&(z.d(1),z=null),o[4].upgrades&&o[4].upgrades!=={}?F?F.p(o,a):(F=xe(o),F.c(),F.m(H,null)):F&&(F.d(1),F=null)},i(o){if(!x){P(K.$$.fragment,o);for(let a=0;a<ee.length;a+=1)P(E[a]);for(let a=0;a<le.length;a+=1)P(w[a]);for(let a=0;a<te.length;a+=1)P(C[a]);for(let a=0;a<ne.length;a+=1)P(O[a]);for(let a=0;a<oe.length;a+=1)P(T[a]);x=!0}},o(o){G(K.$$.fragment,o),E=E.filter(Boolean);for(let a=0;a<E.length;a+=1)G(E[a]);w=w.filter(Boolean);for(let a=0;a<w.length;a+=1)G(w[a]);C=C.filter(Boolean);for(let a=0;a<C.length;a+=1)G(C[a]);O=O.filter(Boolean);for(let a=0;a<O.length;a+=1)G(O[a]);T=T.filter(Boolean);for(let a=0;a<T.length;a+=1)G(T[a]);x=!1},d(o){o&&g(e),me(K),Z(E,o),Z(w,o),Z(C,o),Z(O,o),Z(T,o),o&&g(ke),o&&g(H),R&&R.d(),V&&V.d(),q&&q.d(),z&&z.d(),F&&F.d(),Be=!1,ul(Ie)}}}function dl(n,e,t){let l,u,f,i,c,h,{sys:r}=e,{choices:m}=e,{saveChar:_=null}=e,{deleteChar:p=null}=e,{exportChar:v=()=>{alert(ml.dump(m))}}=e;const J=[[]];function j(){m.name=this.value,t(0,m),t(4,l),t(10,r),t(0,m)}function K(){m.blurb=this.value,t(0,m),t(4,l),t(10,r),t(0,m)}function pe(b){m.elements[b]=_l(this),t(0,m),t(4,l),t(10,r),t(0,m)}function ie(b,se){m.elements[`${b}.upgrades`]=hl(J[0][se],this.__value,this.checked),t(0,m),t(4,l),t(10,r),t(0,m)}return n.$$set=b=>{"sys"in b&&t(10,r=b.sys),"choices"in b&&t(0,m=b.choices),"saveChar"in b&&t(1,_=b.saveChar),"deleteChar"in b&&t(2,p=b.deleteChar),"exportChar"in b&&t(3,v=b.exportChar)},n.$$.update=()=>{n.$$.dirty[0]&1025&&t(4,l=r.inflateCharacter(m)),n.$$.dirty[0]&16&&t(9,u=l.powers.filter(b=>b.action=="Passive")),n.$$.dirty[0]&16&&t(8,f=l.powers.filter(b=>b.action=="Attack")),n.$$.dirty[0]&16&&t(7,i=l.powers.filter(b=>b.action=="Tactics")),n.$$.dirty[0]&16&&t(6,c=l.powers.filter(b=>b.action=="Guard")),n.$$.dirty[0]&16&&t(5,h=l.powers.filter(b=>b.action=="Move"))},[m,_,p,v,l,h,c,i,f,u,r,j,K,pe,ie,J]}class El extends il{constructor(e){super(),sl(this,e,dl,gl,al,{sys:10,choices:0,saveChar:1,deleteChar:2,exportChar:3},null,[-1,-1])}}export{El as C};
