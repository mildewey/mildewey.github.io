import{S as il,i as sl,s as al,x as ue,y as _e,z as he,r as P,p as z,C as me,e as S,t as X,c as I,a as A,h as Y,d as g,g as L,F as d,L as fe,M as Se,k as B,l as ce,m as N,N as cl,O as Le,j as re,G as Z,b as Ne,P as Oe,o as ge,q as de,Q as ul,R as _l,T as hl}from"./index-432774c0.js";import{j as ml}from"./controls-ef78b98b.js";import{S as pl,P as be}from"./Stats-978c3425.js";function Ue(n,e,t){const l=n.slice();return l[16]=e[t][0],l[17]=e[t][1],l[18]=e,l[19]=t,l}function Ae(n,e,t){const l=n.slice();return l[20]=e[t][0],l[21]=e[t][1],l}function De(n,e,t){const l=n.slice();return l[24]=e[t][0],l[25]=e[t][1],l[26]=e,l[27]=t,l}function He(n,e,t){const l=n.slice();return l[20]=e[t][0],l[21]=e[t][1],l}function Re(n,e,t){const l=n.slice();return l[30]=e[t],l}function qe(n,e,t){const l=n.slice();return l[30]=e[t],l}function Ge(n,e,t){const l=n.slice();return l[30]=e[t],l}function Me(n,e,t){const l=n.slice();return l[30]=e[t],l}function Ve(n,e,t){const l=n.slice();return l[30]=e[t],l}function ze(n){let e,t;return e=new be({props:{doc:n[30]}}),{c(){ue(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,u){he(e,l,u),t=!0},p(l,u){const f={};u[0]&512&&(f.doc=l[30]),e.$set(f)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function Fe(n){let e,t;return e=new be({props:{doc:n[30]}}),{c(){ue(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,u){he(e,l,u),t=!0},p(l,u){const f={};u[0]&256&&(f.doc=l[30]),e.$set(f)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function Qe(n){let e,t;return e=new be({props:{doc:n[30]}}),{c(){ue(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,u){he(e,l,u),t=!0},p(l,u){const f={};u[0]&128&&(f.doc=l[30]),e.$set(f)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function Xe(n){let e,t;return e=new be({props:{doc:n[30]}}),{c(){ue(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,u){he(e,l,u),t=!0},p(l,u){const f={};u[0]&64&&(f.doc=l[30]),e.$set(f)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function Ye(n){let e,t;return e=new be({props:{doc:n[30]}}),{c(){ue(e.$$.fragment)},l(l){_e(e.$$.fragment,l)},m(l,u){he(e,l,u),t=!0},p(l,u){const f={};u[0]&32&&(f.doc=l[30]),e.$set(f)},i(l){t||(P(e.$$.fragment,l),t=!0)},o(l){z(e.$$.fragment,l),t=!1},d(l){me(e,l)}}}function Je(n){let e,t,l,u;return{c(){e=S("button"),t=X("Save")},l(f){e=I(f,"BUTTON",{});var i=A(e);t=Y(i,"Save"),i.forEach(g)},m(f,i){L(f,e,i),d(e,t),l||(u=fe(e,"click",function(){Se(n[1])&&n[1].apply(this,arguments)}),l=!0)},p(f,i){n=f},d(f){f&&g(e),l=!1,u()}}}function Ke(n){let e,t,l,u;return{c(){e=S("button"),t=X("Delete")},l(f){e=I(f,"BUTTON",{});var i=A(e);t=Y(i,"Delete"),i.forEach(g)},m(f,i){L(f,e,i),d(e,t),l||(u=fe(e,"click",function(){Se(n[2])&&n[2].apply(this,arguments)}),l=!0)},p(f,i){n=f},d(f){f&&g(e),l=!1,u()}}}function We(n){let e,t,l,u;return{c(){e=S("button"),t=X("Export")},l(f){e=I(f,"BUTTON",{});var i=A(e);t=Y(i,"Export"),i.forEach(g)},m(f,i){L(f,e,i),d(e,t),l||(u=fe(e,"click",function(){Se(n[3])&&n[3].apply(this,arguments)}),l=!0)},p(f,i){n=f},d(f){f&&g(e),l=!1,u()}}}function Ze(n){let e,t,l,u,f=Object.entries(n[4].slots),i=[];for(let c=0;c<f.length;c+=1)i[c]=$e(De(n,f,c));return{c(){e=S("h3"),t=X("Slots"),l=B();for(let c=0;c<i.length;c+=1)i[c].c();u=ce()},l(c){e=I(c,"H3",{});var h=A(e);t=Y(h,"Slots"),h.forEach(g),l=N(c);for(let r=0;r<i.length;r+=1)i[r].l(c);u=ce()},m(c,h){L(c,e,h),d(e,t),L(c,l,h);for(let r=0;r<i.length;r+=1)i[r].m(c,h);L(c,u,h)},p(c,h){if(h[0]&17){f=Object.entries(c[4].slots);let r;for(r=0;r<f.length;r+=1){const m=De(c,f,r);i[r]?i[r].p(m,h):(i[r]=$e(m),i[r].c(),i[r].m(u.parentNode,u))}for(;r<i.length;r+=1)i[r].d(1);i.length=f.length}},d(c){c&&g(e),c&&g(l),Z(i,c),c&&g(u)}}}function ye(n){let e,t=n[21].name+"",l,u;return{c(){e=S("option"),l=X(t),this.h()},l(f){e=I(f,"OPTION",{});var i=A(e);l=Y(i,t),i.forEach(g),this.h()},h(){e.__value=u=n[20],e.value=e.__value},m(f,i){L(f,e,i),d(e,l)},p(f,i){i[0]&16&&t!==(t=f[21].name+"")&&re(l,t),i[0]&16&&u!==(u=f[20])&&(e.__value=u,e.value=e.__value)},d(f){f&&g(e)}}}function $e(n){let e,t=n[25].name+"",l,u,f,i,c,h=Object.entries(n[25].options),r=[];for(let _=0;_<h.length;_+=1)r[_]=ye(He(n,h,_));function m(){n[13].call(f,n[24])}return{c(){e=S("p"),l=X(t),u=B(),f=S("select");for(let _=0;_<r.length;_+=1)r[_].c();this.h()},l(_){e=I(_,"P",{});var p=A(e);l=Y(p,t),p.forEach(g),u=N(_),f=I(_,"SELECT",{});var v=A(f);for(let F=0;F<r.length;F+=1)r[F].l(v);v.forEach(g),this.h()},h(){n[0].elements[n[24]]===void 0&&cl(m)},m(_,p){L(_,e,p),d(e,l),L(_,u,p),L(_,f,p);for(let v=0;v<r.length;v+=1)r[v].m(f,null);Le(f,n[0].elements[n[24]]),i||(c=fe(f,"change",m),i=!0)},p(_,p){if(n=_,p[0]&16&&t!==(t=n[25].name+"")&&re(l,t),p[0]&16){h=Object.entries(n[25].options);let v;for(v=0;v<h.length;v+=1){const F=He(n,h,v);r[v]?r[v].p(F,p):(r[v]=ye(F),r[v].c(),r[v].m(f,null))}for(;v<r.length;v+=1)r[v].d(1);r.length=h.length}p[0]&17&&Le(f,n[0].elements[n[24]])},d(_){_&&g(e),_&&g(u),_&&g(f),Z(r,_),i=!1,c()}}}function xe(n){let e,t,l,u,f=Object.entries(n[4].upgrades),i=[];for(let c=0;c<f.length;c+=1)i[c]=ll(Ue(n,f,c));return{c(){e=S("h3"),t=X("Upgades"),l=B();for(let c=0;c<i.length;c+=1)i[c].c();u=ce()},l(c){e=I(c,"H3",{});var h=A(e);t=Y(h,"Upgades"),h.forEach(g),l=N(c);for(let r=0;r<i.length;r+=1)i[r].l(c);u=ce()},m(c,h){L(c,e,h),d(e,t),L(c,l,h);for(let r=0;r<i.length;r+=1)i[r].m(c,h);L(c,u,h)},p(c,h){if(h[0]&17){f=Object.entries(c[4].upgrades);let r;for(r=0;r<f.length;r+=1){const m=Ue(c,f,r);i[r]?i[r].p(m,h):(i[r]=ll(m),i[r].c(),i[r].m(u.parentNode,u))}for(;r<i.length;r+=1)i[r].d(1);i.length=f.length}},d(c){c&&g(e),c&&g(l),Z(i,c),c&&g(u)}}}function el(n){let e,t,l,u,f=n[21].name+"",i,c,h,r;n[15][0][n[19]]=[];function m(){n[14].call(t,n[16],n[19])}return{c(){e=S("label"),t=S("input"),u=B(),i=X(f),c=B(),this.h()},l(_){e=I(_,"LABEL",{});var p=A(e);t=I(p,"INPUT",{type:!0,name:!0}),u=N(p),i=Y(p,f),c=N(p),p.forEach(g),this.h()},h(){Ne(t,"type","checkbox"),Ne(t,"name","upgrades"),t.__value=l=n[20],t.value=t.__value,n[15][0][n[19]].push(t)},m(_,p){L(_,e,p),d(e,t),t.checked=~n[0].elements[`${n[16]}.upgrades`].indexOf(t.__value),d(e,u),d(e,i),d(e,c),h||(r=fe(t,"change",m),h=!0)},p(_,p){n=_,p[0]&16&&l!==(l=n[20])&&(t.__value=l,t.value=t.__value),p[0]&17&&(t.checked=~n[0].elements[`${n[16]}.upgrades`].indexOf(t.__value)),p[0]&16&&f!==(f=n[21].name+"")&&re(i,f)},d(_){_&&g(e),n[15][0][n[19]].splice(n[15][0][n[19]].indexOf(t),1),h=!1,r()}}}function ll(n){let e,t,l=n[17].name+"",u,f,i,c=Object.entries(n[17].options),h=[];for(let r=0;r<c.length;r+=1)h[r]=el(Ae(n,c,r));return{c(){e=S("p"),t=S("b"),u=X(l),f=B();for(let r=0;r<h.length;r+=1)h[r].c();i=ce()},l(r){e=I(r,"P",{});var m=A(e);t=I(m,"B",{});var _=A(t);u=Y(_,l),_.forEach(g),m.forEach(g),f=N(r);for(let p=0;p<h.length;p+=1)h[p].l(r);i=ce()},m(r,m){L(r,e,m),d(e,t),d(t,u),L(r,f,m);for(let _=0;_<h.length;_+=1)h[_].m(r,m);L(r,i,m)},p(r,m){if(m[0]&16&&l!==(l=r[17].name+"")&&re(u,l),m[0]&17){c=Object.entries(r[17].options);let _;for(_=0;_<c.length;_+=1){const p=Ae(r,c,_);h[_]?h[_].p(p,m):(h[_]=el(p),h[_].c(),h[_].m(i.parentNode,i))}for(;_<h.length;_+=1)h[_].d(1);h.length=c.length}},d(r){r&&g(e),r&&g(f),Z(h,r),r&&g(i)}}}function gl(n){let e,t,l=n[4].name+"",u,f,i,c,h=n[4].level+"",r,m,_,p=n[4].blurb+"",v,F,j,K,pe,ie,b,se,ve,ke,H,Q,Ee,we,Te,y,je,$,Pe,Ce,x,Be,Ie;K=new pl({props:{doc:n[4].stats}});let ee=n[9],E=[];for(let o=0;o<ee.length;o+=1)E[o]=ze(Ve(n,ee,o));const tl=o=>z(E[o],1,1,()=>{E[o]=null});let le=n[8],w=[];for(let o=0;o<le.length;o+=1)w[o]=Fe(Me(n,le,o));const nl=o=>z(w[o],1,1,()=>{w[o]=null});let te=n[7],C=[];for(let o=0;o<te.length;o+=1)C[o]=Qe(Ge(n,te,o));const ol=o=>z(C[o],1,1,()=>{C[o]=null});let ne=n[6],O=[];for(let o=0;o<ne.length;o+=1)O[o]=Xe(qe(n,ne,o));const rl=o=>z(O[o],1,1,()=>{O[o]=null});let oe=n[5],T=[];for(let o=0;o<oe.length;o+=1)T[o]=Ye(Re(n,oe,o));const fl=o=>z(T[o],1,1,()=>{T[o]=null});let R=n[1]!==null&&Je(n),q=n[2]!==null&&Ke(n),G=n[3]!==null&&We(n),M=n[4].slots!=={}&&Ze(n),V=n[4].upgrades&&n[4].upgrades!=={}&&xe(n);return{c(){e=S("article"),t=S("h3"),u=X(l),f=B(),i=S("p"),c=X("Level "),r=X(h),m=B(),_=S("p"),v=X(p),F=B(),j=S("div"),ue(K.$$.fragment),pe=B();for(let o=0;o<E.length;o+=1)E[o].c();ie=B();for(let o=0;o<w.length;o+=1)w[o].c();b=B();for(let o=0;o<C.length;o+=1)C[o].c();se=B();for(let o=0;o<O.length;o+=1)O[o].c();ve=B();for(let o=0;o<T.length;o+=1)T[o].c();ke=B(),H=S("aside"),Q=S("div"),R&&R.c(),Ee=B(),q&&q.c(),we=B(),G&&G.c(),Te=B(),y=S("input"),je=B(),$=S("textarea"),Pe=B(),M&&M.c(),Ce=B(),V&&V.c(),this.h()},l(o){e=I(o,"ARTICLE",{});var a=A(e);t=I(a,"H3",{});var k=A(t);u=Y(k,l),k.forEach(g),f=N(a),i=I(a,"P",{});var s=A(i);c=Y(s,"Level "),r=Y(s,h),s.forEach(g),m=N(a),_=I(a,"P",{});var D=A(_);v=Y(D,p),D.forEach(g),F=N(a),j=I(a,"DIV",{});var J=A(j);_e(K.$$.fragment,J),pe=N(J);for(let U=0;U<E.length;U+=1)E[U].l(J);ie=N(J);for(let U=0;U<w.length;U+=1)w[U].l(J);b=N(J);for(let U=0;U<C.length;U+=1)C[U].l(J);se=N(J);for(let U=0;U<O.length;U+=1)O[U].l(J);ve=N(J);for(let U=0;U<T.length;U+=1)T[U].l(J);J.forEach(g),a.forEach(g),ke=N(o),H=I(o,"ASIDE",{});var W=A(H);Q=I(W,"DIV",{class:!0});var ae=A(Q);R&&R.l(ae),Ee=N(ae),q&&q.l(ae),we=N(ae),G&&G.l(ae),ae.forEach(g),Te=N(W),y=I(W,"INPUT",{}),je=N(W),$=I(W,"TEXTAREA",{}),A($).forEach(g),Pe=N(W),M&&M.l(W),Ce=N(W),V&&V.l(W),W.forEach(g),this.h()},h(){Ne(Q,"class","row-flex")},m(o,a){L(o,e,a),d(e,t),d(t,u),d(e,f),d(e,i),d(i,c),d(i,r),d(e,m),d(e,_),d(_,v),d(e,F),d(e,j),he(K,j,null),d(j,pe);for(let k=0;k<E.length;k+=1)E[k].m(j,null);d(j,ie);for(let k=0;k<w.length;k+=1)w[k].m(j,null);d(j,b);for(let k=0;k<C.length;k+=1)C[k].m(j,null);d(j,se);for(let k=0;k<O.length;k+=1)O[k].m(j,null);d(j,ve);for(let k=0;k<T.length;k+=1)T[k].m(j,null);L(o,ke,a),L(o,H,a),d(H,Q),R&&R.m(Q,null),d(Q,Ee),q&&q.m(Q,null),d(Q,we),G&&G.m(Q,null),d(H,Te),d(H,y),Oe(y,n[0].name),d(H,je),d(H,$),Oe($,n[0].blurb),d(H,Pe),M&&M.m(H,null),d(H,Ce),V&&V.m(H,null),x=!0,Be||(Ie=[fe(y,"input",n[11]),fe($,"input",n[12])],Be=!0)},p(o,a){(!x||a[0]&16)&&l!==(l=o[4].name+"")&&re(u,l),(!x||a[0]&16)&&h!==(h=o[4].level+"")&&re(r,h),(!x||a[0]&16)&&p!==(p=o[4].blurb+"")&&re(v,p);const k={};if(a[0]&16&&(k.doc=o[4].stats),K.$set(k),a[0]&512){ee=o[9];let s;for(s=0;s<ee.length;s+=1){const D=Ve(o,ee,s);E[s]?(E[s].p(D,a),P(E[s],1)):(E[s]=ze(D),E[s].c(),P(E[s],1),E[s].m(j,ie))}for(ge(),s=ee.length;s<E.length;s+=1)tl(s);de()}if(a[0]&256){le=o[8];let s;for(s=0;s<le.length;s+=1){const D=Me(o,le,s);w[s]?(w[s].p(D,a),P(w[s],1)):(w[s]=Fe(D),w[s].c(),P(w[s],1),w[s].m(j,b))}for(ge(),s=le.length;s<w.length;s+=1)nl(s);de()}if(a[0]&128){te=o[7];let s;for(s=0;s<te.length;s+=1){const D=Ge(o,te,s);C[s]?(C[s].p(D,a),P(C[s],1)):(C[s]=Qe(D),C[s].c(),P(C[s],1),C[s].m(j,se))}for(ge(),s=te.length;s<C.length;s+=1)ol(s);de()}if(a[0]&64){ne=o[6];let s;for(s=0;s<ne.length;s+=1){const D=qe(o,ne,s);O[s]?(O[s].p(D,a),P(O[s],1)):(O[s]=Xe(D),O[s].c(),P(O[s],1),O[s].m(j,ve))}for(ge(),s=ne.length;s<O.length;s+=1)rl(s);de()}if(a[0]&32){oe=o[5];let s;for(s=0;s<oe.length;s+=1){const D=Re(o,oe,s);T[s]?(T[s].p(D,a),P(T[s],1)):(T[s]=Ye(D),T[s].c(),P(T[s],1),T[s].m(j,null))}for(ge(),s=oe.length;s<T.length;s+=1)fl(s);de()}o[1]!==null?R?R.p(o,a):(R=Je(o),R.c(),R.m(Q,Ee)):R&&(R.d(1),R=null),o[2]!==null?q?q.p(o,a):(q=Ke(o),q.c(),q.m(Q,we)):q&&(q.d(1),q=null),o[3]!==null?G?G.p(o,a):(G=We(o),G.c(),G.m(Q,null)):G&&(G.d(1),G=null),a[0]&17&&y.value!==o[0].name&&Oe(y,o[0].name),a[0]&17&&Oe($,o[0].blurb),o[4].slots!=={}?M?M.p(o,a):(M=Ze(o),M.c(),M.m(H,Ce)):M&&(M.d(1),M=null),o[4].upgrades&&o[4].upgrades!=={}?V?V.p(o,a):(V=xe(o),V.c(),V.m(H,null)):V&&(V.d(1),V=null)},i(o){if(!x){P(K.$$.fragment,o);for(let a=0;a<ee.length;a+=1)P(E[a]);for(let a=0;a<le.length;a+=1)P(w[a]);for(let a=0;a<te.length;a+=1)P(C[a]);for(let a=0;a<ne.length;a+=1)P(O[a]);for(let a=0;a<oe.length;a+=1)P(T[a]);x=!0}},o(o){z(K.$$.fragment,o),E=E.filter(Boolean);for(let a=0;a<E.length;a+=1)z(E[a]);w=w.filter(Boolean);for(let a=0;a<w.length;a+=1)z(w[a]);C=C.filter(Boolean);for(let a=0;a<C.length;a+=1)z(C[a]);O=O.filter(Boolean);for(let a=0;a<O.length;a+=1)z(O[a]);T=T.filter(Boolean);for(let a=0;a<T.length;a+=1)z(T[a]);x=!1},d(o){o&&g(e),me(K),Z(E,o),Z(w,o),Z(C,o),Z(O,o),Z(T,o),o&&g(ke),o&&g(H),R&&R.d(),q&&q.d(),G&&G.d(),M&&M.d(),V&&V.d(),Be=!1,ul(Ie)}}}function dl(n,e,t){let l,u,f,i,c,h,{sys:r}=e,{choices:m}=e,{saveChar:_=null}=e,{deleteChar:p=null}=e,{exportChar:v=()=>{alert(ml.dump(m))}}=e;const F=[[]];function j(){m.name=this.value,t(0,m),t(4,l),t(10,r),t(0,m)}function K(){m.blurb=this.value,t(0,m),t(4,l),t(10,r),t(0,m)}function pe(b){m.elements[b]=_l(this),t(0,m),t(4,l),t(10,r),t(0,m)}function ie(b,se){m.elements[`${b}.upgrades`]=hl(F[0][se],this.__value,this.checked),t(0,m),t(4,l),t(10,r),t(0,m)}return n.$$set=b=>{"sys"in b&&t(10,r=b.sys),"choices"in b&&t(0,m=b.choices),"saveChar"in b&&t(1,_=b.saveChar),"deleteChar"in b&&t(2,p=b.deleteChar),"exportChar"in b&&t(3,v=b.exportChar)},n.$$.update=()=>{n.$$.dirty[0]&1025&&t(4,l=r.inflateCharacter(m)),n.$$.dirty[0]&16&&t(9,u=l.powers.filter(b=>b.action=="Passive")),n.$$.dirty[0]&16&&t(8,f=l.powers.filter(b=>b.action=="Attack")),n.$$.dirty[0]&16&&t(7,i=l.powers.filter(b=>b.action=="Tactics")),n.$$.dirty[0]&16&&t(6,c=l.powers.filter(b=>b.action=="Guard")),n.$$.dirty[0]&16&&t(5,h=l.powers.filter(b=>b.action=="Move"))},[m,_,p,v,l,h,c,i,f,u,r,j,K,pe,ie,F]}class El extends il{constructor(e){super(),sl(this,e,dl,gl,al,{sys:10,choices:0,saveChar:1,deleteChar:2,exportChar:3},null,[-1,-1])}}export{El as C};
