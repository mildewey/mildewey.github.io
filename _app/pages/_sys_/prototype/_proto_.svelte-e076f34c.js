import{S as He,i as qe,s as Ae,x,y as ee,z as te,r as B,p as C,C as le,e as I,t as M,k as V,l as oe,c as D,a as U,h as z,d as m,m as T,g as H,F as v,L as Qe,M as de,N as Ge,j as Z,G as F,b as ne,o as re,q as se,O as Re,P as We}from"../../../chunks/index-6a66f5b0.js";import"../../../chunks/controls-ef78b98b.js";import{S as Xe,P as ce}from"../../../chunks/Stats-fb0ecd8d.js";function ve(n,t,l){const e=n.slice();return e[12]=t[l][0],e[13]=t[l][1],e[14]=t,e[15]=l,e}function be(n,t,l){const e=n.slice();return e[16]=t[l][0],e[17]=t[l][1],e}function ke(n,t,l){const e=n.slice();return e[20]=t[l][0],e[21]=t[l][1],e[22]=t,e[23]=l,e}function we(n,t,l){const e=n.slice();return e[16]=t[l][0],e[17]=t[l][1],e}function Ee(n,t,l){const e=n.slice();return e[26]=t[l],e}function Oe(n,t,l){const e=n.slice();return e[26]=t[l],e}function $e(n,t,l){const e=n.slice();return e[26]=t[l],e}function Pe(n,t,l){const e=n.slice();return e[26]=t[l],e}function je(n,t,l){const e=n.slice();return e[26]=t[l],e}function Be(n){let t,l;return t=new ce({props:{doc:n[26]}}),{c(){x(t.$$.fragment)},l(e){ee(t.$$.fragment,e)},m(e,s){te(t,e,s),l=!0},p(e,s){const f={};s[0]&64&&(f.doc=e[26]),t.$set(f)},i(e){l||(B(t.$$.fragment,e),l=!0)},o(e){C(t.$$.fragment,e),l=!1},d(e){le(t,e)}}}function Se(n){let t,l;return t=new ce({props:{doc:n[26]}}),{c(){x(t.$$.fragment)},l(e){ee(t.$$.fragment,e)},m(e,s){te(t,e,s),l=!0},p(e,s){const f={};s[0]&32&&(f.doc=e[26]),t.$set(f)},i(e){l||(B(t.$$.fragment,e),l=!0)},o(e){C(t.$$.fragment,e),l=!1},d(e){le(t,e)}}}function ye(n){let t,l;return t=new ce({props:{doc:n[26]}}),{c(){x(t.$$.fragment)},l(e){ee(t.$$.fragment,e)},m(e,s){te(t,e,s),l=!0},p(e,s){const f={};s[0]&16&&(f.doc=e[26]),t.$set(f)},i(e){l||(B(t.$$.fragment,e),l=!0)},o(e){C(t.$$.fragment,e),l=!1},d(e){le(t,e)}}}function Ce(n){let t,l;return t=new ce({props:{doc:n[26]}}),{c(){x(t.$$.fragment)},l(e){ee(t.$$.fragment,e)},m(e,s){te(t,e,s),l=!0},p(e,s){const f={};s[0]&8&&(f.doc=e[26]),t.$set(f)},i(e){l||(B(t.$$.fragment,e),l=!0)},o(e){C(t.$$.fragment,e),l=!1},d(e){le(t,e)}}}function Ie(n){let t,l;return t=new ce({props:{doc:n[26]}}),{c(){x(t.$$.fragment)},l(e){ee(t.$$.fragment,e)},m(e,s){te(t,e,s),l=!0},p(e,s){const f={};s[0]&4&&(f.doc=e[26]),t.$set(f)},i(e){l||(B(t.$$.fragment,e),l=!0)},o(e){C(t.$$.fragment,e),l=!1},d(e){le(t,e)}}}function De(n){let t,l,e,s,f=Object.entries(n[0].slots),i=[];for(let a=0;a<f.length;a+=1)i[a]=Ne(ke(n,f,a));return{c(){t=I("h3"),l=M("Slots"),e=V();for(let a=0;a<i.length;a+=1)i[a].c();s=oe()},l(a){t=D(a,"H3",{});var u=U(t);l=z(u,"Slots"),u.forEach(m),e=T(a);for(let o=0;o<i.length;o+=1)i[o].l(a);s=oe()},m(a,u){H(a,t,u),v(t,l),H(a,e,u);for(let o=0;o<i.length;o+=1)i[o].m(a,u);H(a,s,u)},p(a,u){if(u[0]&3){f=Object.entries(a[0].slots);let o;for(o=0;o<f.length;o+=1){const g=ke(a,f,o);i[o]?i[o].p(g,u):(i[o]=Ne(g),i[o].c(),i[o].m(s.parentNode,s))}for(;o<i.length;o+=1)i[o].d(1);i.length=f.length}},d(a){a&&m(t),a&&m(e),F(i,a),a&&m(s)}}}function Le(n){let t,l=n[17].name+"",e,s;return{c(){t=I("option"),e=M(l),this.h()},l(f){t=D(f,"OPTION",{});var i=U(t);e=z(i,l),i.forEach(m),this.h()},h(){t.__value=s=n[16],t.value=t.__value},m(f,i){H(f,t,i),v(t,e)},p(f,i){i[0]&1&&l!==(l=f[17].name+"")&&Z(e,l),i[0]&1&&s!==(s=f[16])&&(t.__value=s,t.value=t.__value)},d(f){f&&m(t)}}}function Ne(n){let t,l=n[21].name+"",e,s,f,i,a,u=Object.entries(n[21].options),o=[];for(let _=0;_<u.length;_+=1)o[_]=Le(we(n,u,_));function g(){n[9].call(f,n[20])}return{c(){t=I("p"),e=M(l),s=V(),f=I("select");for(let _=0;_<o.length;_+=1)o[_].c();this.h()},l(_){t=D(_,"P",{});var p=U(t);e=z(p,l),p.forEach(m),s=T(_),f=D(_,"SELECT",{});var b=U(f);for(let q=0;q<o.length;q+=1)o[q].l(b);b.forEach(m),this.h()},h(){n[1].elements[n[20]]===void 0&&Qe(g)},m(_,p){H(_,t,p),v(t,e),H(_,s,p),H(_,f,p);for(let b=0;b<o.length;b+=1)o[b].m(f,null);de(f,n[1].elements[n[20]]),i||(a=Ge(f,"change",g),i=!0)},p(_,p){if(n=_,p[0]&1&&l!==(l=n[21].name+"")&&Z(e,l),p[0]&1){u=Object.entries(n[21].options);let b;for(b=0;b<u.length;b+=1){const q=we(n,u,b);o[b]?o[b].p(q,p):(o[b]=Le(q),o[b].c(),o[b].m(f,null))}for(;b<o.length;b+=1)o[b].d(1);o.length=u.length}p[0]&3&&de(f,n[1].elements[n[20]])},d(_){_&&m(t),_&&m(s),_&&m(f),F(o,_),i=!1,a()}}}function Ve(n){let t,l,e,s,f=Object.entries(n[0].upgrades),i=[];for(let a=0;a<f.length;a+=1)i[a]=Ue(ve(n,f,a));return{c(){t=I("h3"),l=M("Upgades"),e=V();for(let a=0;a<i.length;a+=1)i[a].c();s=oe()},l(a){t=D(a,"H3",{});var u=U(t);l=z(u,"Upgades"),u.forEach(m),e=T(a);for(let o=0;o<i.length;o+=1)i[o].l(a);s=oe()},m(a,u){H(a,t,u),v(t,l),H(a,e,u);for(let o=0;o<i.length;o+=1)i[o].m(a,u);H(a,s,u)},p(a,u){if(u[0]&3){f=Object.entries(a[0].upgrades);let o;for(o=0;o<f.length;o+=1){const g=ve(a,f,o);i[o]?i[o].p(g,u):(i[o]=Ue(g),i[o].c(),i[o].m(s.parentNode,s))}for(;o<i.length;o+=1)i[o].d(1);i.length=f.length}},d(a){a&&m(t),a&&m(e),F(i,a),a&&m(s)}}}function Te(n){let t,l,e,s,f=n[17].name+"",i,a,u,o;n[11][0][n[15]]=[];function g(){n[10].call(l,n[12],n[15])}return{c(){t=I("label"),l=I("input"),s=V(),i=M(f),a=V(),this.h()},l(_){t=D(_,"LABEL",{});var p=U(t);l=D(p,"INPUT",{type:!0,name:!0}),s=T(p),i=z(p,f),a=T(p),p.forEach(m),this.h()},h(){ne(l,"type","checkbox"),ne(l,"name","upgrades"),l.__value=e=n[16],l.value=l.__value,n[11][0][n[15]].push(l)},m(_,p){H(_,t,p),v(t,l),l.checked=~n[1].elements[`${n[12]}.upgrades`].indexOf(l.__value),v(t,s),v(t,i),v(t,a),u||(o=Ge(l,"change",g),u=!0)},p(_,p){n=_,p[0]&1&&e!==(e=n[16])&&(l.__value=e,l.value=l.__value),p[0]&3&&(l.checked=~n[1].elements[`${n[12]}.upgrades`].indexOf(l.__value)),p[0]&1&&f!==(f=n[17].name+"")&&Z(i,f)},d(_){_&&m(t),n[11][0][n[15]].splice(n[11][0][n[15]].indexOf(l),1),u=!1,o()}}}function Ue(n){let t,l,e=n[13].name+"",s,f,i,a=Object.entries(n[13].options),u=[];for(let o=0;o<a.length;o+=1)u[o]=Te(be(n,a,o));return{c(){t=I("p"),l=I("b"),s=M(e),f=V();for(let o=0;o<u.length;o+=1)u[o].c();i=oe()},l(o){t=D(o,"P",{});var g=U(t);l=D(g,"B",{});var _=U(l);s=z(_,e),_.forEach(m),g.forEach(m),f=T(o);for(let p=0;p<u.length;p+=1)u[p].l(o);i=oe()},m(o,g){H(o,t,g),v(t,l),v(l,s),H(o,f,g);for(let _=0;_<u.length;_+=1)u[_].m(o,g);H(o,i,g)},p(o,g){if(g[0]&1&&e!==(e=o[13].name+"")&&Z(s,e),g[0]&3){a=Object.entries(o[13].options);let _;for(_=0;_<a.length;_+=1){const p=be(o,a,_);u[_]?u[_].p(p,g):(u[_]=Te(p),u[_].c(),u[_].m(i.parentNode,i))}for(;_<u.length;_+=1)u[_].d(1);u.length=a.length}},d(o){o&&m(t),o&&m(f),F(u,o),o&&m(i)}}}function Ye(n){let t,l,e,s=n[0].name+"",f,i,a,u,o=n[0].level+"",g,_,p,b=n[0].blurb+"",q,P,j,J,pe,fe,ae,ie,_e,ge,G,he,K;J=new Xe({props:{doc:n[0].stats}});let Q=n[6],k=[];for(let r=0;r<Q.length;r+=1)k[r]=Be(je(n,Q,r));const Me=r=>C(k[r],1,1,()=>{k[r]=null});let R=n[5],w=[];for(let r=0;r<R.length;r+=1)w[r]=Se(Pe(n,R,r));const ze=r=>C(w[r],1,1,()=>{w[r]=null});let W=n[4],E=[];for(let r=0;r<W.length;r+=1)E[r]=ye($e(n,W,r));const Fe=r=>C(E[r],1,1,()=>{E[r]=null});let X=n[3],O=[];for(let r=0;r<X.length;r+=1)O[r]=Ce(Oe(n,X,r));const Je=r=>C(O[r],1,1,()=>{O[r]=null});let Y=n[2],$=[];for(let r=0;r<Y.length;r+=1)$[r]=Ie(Ee(n,Y,r));const Ke=r=>C($[r],1,1,()=>{$[r]=null});let L=n[0].slots!=={}&&De(n),N=n[0].upgrades!=={}&&Ve(n);return{c(){t=I("div"),l=I("div"),e=I("h3"),f=M(s),i=V(),a=I("p"),u=M("Level "),g=M(o),_=V(),p=I("p"),q=M(b),P=V(),j=I("div"),x(J.$$.fragment),pe=V();for(let r=0;r<k.length;r+=1)k[r].c();fe=V();for(let r=0;r<w.length;r+=1)w[r].c();ae=V();for(let r=0;r<E.length;r+=1)E[r].c();ie=V();for(let r=0;r<O.length;r+=1)O[r].c();_e=V();for(let r=0;r<$.length;r+=1)$[r].c();ge=V(),G=I("div"),L&&L.c(),he=V(),N&&N.c(),this.h()},l(r){t=D(r,"DIV",{class:!0});var h=U(t);l=D(h,"DIV",{class:!0});var d=U(l);e=D(d,"H3",{});var c=U(e);f=z(c,s),c.forEach(m),i=T(d),a=D(d,"P",{});var y=U(a);u=z(y,"Level "),g=z(y,o),y.forEach(m),_=T(d),p=D(d,"P",{});var me=U(p);q=z(me,b),me.forEach(m),P=T(d),j=D(d,"DIV",{});var A=U(j);ee(J.$$.fragment,A),pe=T(A);for(let S=0;S<k.length;S+=1)k[S].l(A);fe=T(A);for(let S=0;S<w.length;S+=1)w[S].l(A);ae=T(A);for(let S=0;S<E.length;S+=1)E[S].l(A);ie=T(A);for(let S=0;S<O.length;S+=1)O[S].l(A);_e=T(A);for(let S=0;S<$.length;S+=1)$[S].l(A);A.forEach(m),d.forEach(m),ge=T(h),G=D(h,"DIV",{class:!0});var ue=U(G);L&&L.l(ue),he=T(ue),N&&N.l(ue),ue.forEach(m),h.forEach(m),this.h()},h(){ne(l,"class","character svelte-1c3bmwf"),ne(G,"class","options svelte-1c3bmwf"),ne(t,"class","character-sheet svelte-1c3bmwf")},m(r,h){H(r,t,h),v(t,l),v(l,e),v(e,f),v(l,i),v(l,a),v(a,u),v(a,g),v(l,_),v(l,p),v(p,q),v(l,P),v(l,j),te(J,j,null),v(j,pe);for(let d=0;d<k.length;d+=1)k[d].m(j,null);v(j,fe);for(let d=0;d<w.length;d+=1)w[d].m(j,null);v(j,ae);for(let d=0;d<E.length;d+=1)E[d].m(j,null);v(j,ie);for(let d=0;d<O.length;d+=1)O[d].m(j,null);v(j,_e);for(let d=0;d<$.length;d+=1)$[d].m(j,null);v(t,ge),v(t,G),L&&L.m(G,null),v(G,he),N&&N.m(G,null),K=!0},p(r,h){(!K||h[0]&1)&&s!==(s=r[0].name+"")&&Z(f,s),(!K||h[0]&1)&&o!==(o=r[0].level+"")&&Z(g,o),(!K||h[0]&1)&&b!==(b=r[0].blurb+"")&&Z(q,b);const d={};if(h[0]&1&&(d.doc=r[0].stats),J.$set(d),h[0]&64){Q=r[6];let c;for(c=0;c<Q.length;c+=1){const y=je(r,Q,c);k[c]?(k[c].p(y,h),B(k[c],1)):(k[c]=Be(y),k[c].c(),B(k[c],1),k[c].m(j,fe))}for(re(),c=Q.length;c<k.length;c+=1)Me(c);se()}if(h[0]&32){R=r[5];let c;for(c=0;c<R.length;c+=1){const y=Pe(r,R,c);w[c]?(w[c].p(y,h),B(w[c],1)):(w[c]=Se(y),w[c].c(),B(w[c],1),w[c].m(j,ae))}for(re(),c=R.length;c<w.length;c+=1)ze(c);se()}if(h[0]&16){W=r[4];let c;for(c=0;c<W.length;c+=1){const y=$e(r,W,c);E[c]?(E[c].p(y,h),B(E[c],1)):(E[c]=ye(y),E[c].c(),B(E[c],1),E[c].m(j,ie))}for(re(),c=W.length;c<E.length;c+=1)Fe(c);se()}if(h[0]&8){X=r[3];let c;for(c=0;c<X.length;c+=1){const y=Oe(r,X,c);O[c]?(O[c].p(y,h),B(O[c],1)):(O[c]=Ce(y),O[c].c(),B(O[c],1),O[c].m(j,_e))}for(re(),c=X.length;c<O.length;c+=1)Je(c);se()}if(h[0]&4){Y=r[2];let c;for(c=0;c<Y.length;c+=1){const y=Ee(r,Y,c);$[c]?($[c].p(y,h),B($[c],1)):($[c]=Ie(y),$[c].c(),B($[c],1),$[c].m(j,null))}for(re(),c=Y.length;c<$.length;c+=1)Ke(c);se()}r[0].slots!=={}?L?L.p(r,h):(L=De(r),L.c(),L.m(G,he)):L&&(L.d(1),L=null),r[0].upgrades!=={}?N?N.p(r,h):(N=Ve(r),N.c(),N.m(G,null)):N&&(N.d(1),N=null)},i(r){if(!K){B(J.$$.fragment,r);for(let h=0;h<Q.length;h+=1)B(k[h]);for(let h=0;h<R.length;h+=1)B(w[h]);for(let h=0;h<W.length;h+=1)B(E[h]);for(let h=0;h<X.length;h+=1)B(O[h]);for(let h=0;h<Y.length;h+=1)B($[h]);K=!0}},o(r){C(J.$$.fragment,r),k=k.filter(Boolean);for(let h=0;h<k.length;h+=1)C(k[h]);w=w.filter(Boolean);for(let h=0;h<w.length;h+=1)C(w[h]);E=E.filter(Boolean);for(let h=0;h<E.length;h+=1)C(E[h]);O=O.filter(Boolean);for(let h=0;h<O.length;h+=1)C(O[h]);$=$.filter(Boolean);for(let h=0;h<$.length;h+=1)C($[h]);K=!1},d(r){r&&m(t),le(J),F(k,r),F(w,r),F(E,r),F(O,r),F($,r),L&&L.d(),N&&N.d()}}}function Ze(n,t,l){let e,s,f,i,a,u,o,{sys:g}=t,{proto:_}=t;const p=[[]];function b(P){e.elements[P]=Re(this),l(1,e),l(7,g),l(8,_),l(0,s),l(7,g),l(1,e),l(8,_)}function q(P,j){e.elements[`${P}.upgrades`]=We(p[0][j],this.__value,this.checked),l(1,e),l(7,g),l(8,_),l(0,s),l(7,g),l(1,e),l(8,_)}return n.$$set=P=>{"sys"in P&&l(7,g=P.sys),"proto"in P&&l(8,_=P.proto)},n.$$.update=()=>{n.$$.dirty[0]&384&&l(1,e=g.prototypes[_]),n.$$.dirty[0]&130&&l(0,s=g.inflateCharacter(e)),n.$$.dirty[0]&2&&console.log("Choices: ",e),n.$$.dirty[0]&1&&l(6,f=s.powers.filter(P=>P.action=="Passive")),n.$$.dirty[0]&1&&l(5,i=s.powers.filter(P=>P.action=="Attack")),n.$$.dirty[0]&1&&l(4,a=s.powers.filter(P=>P.action=="Tactics")),n.$$.dirty[0]&1&&l(3,u=s.powers.filter(P=>P.action=="Guard")),n.$$.dirty[0]&1&&l(2,o=s.powers.filter(P=>P.action=="Move"))},[s,e,o,u,a,i,f,g,_,b,q,p]}class xe extends He{constructor(t){super(),qe(this,t,Ze,Ye,Ae,{sys:7,proto:8},null,[-1,-1])}}function et(n){let t,l,e;return l=new xe({props:{sys:n[0],proto:n[1]}}),{c(){t=I("div"),x(l.$$.fragment),this.h()},l(s){t=D(s,"DIV",{class:!0});var f=U(t);ee(l.$$.fragment,f),f.forEach(m),this.h()},h(){ne(t,"class","content")},m(s,f){H(s,t,f),te(l,t,null),e=!0},p(s,[f]){const i={};f&1&&(i.sys=s[0]),f&2&&(i.proto=s[1]),l.$set(i)},i(s){e||(B(l.$$.fragment,s),e=!0)},o(s){C(l.$$.fragment,s),e=!1},d(s){s&&m(t),le(l)}}}async function rt({params:n,fetch:t,session:l,stuff:e}){return{status:200,props:{sys:e.allSystems[n.sys],proto:n.proto}}}function tt(n,t,l){let{sys:e}=t,{proto:s}=t;return n.$$set=f=>{"sys"in f&&l(0,e=f.sys),"proto"in f&&l(1,s=f.proto)},[e,s]}class st extends He{constructor(t){super(),qe(this,t,tt,et,Ae,{sys:0,proto:1})}}export{st as default,rt as load};
