var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function r(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(t,e,n,r){return t[1]&&r?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](r(e))):n.ctx}function l(t){return null==t?"":t}function a(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function p(t){return document.createElement(t)}function d(t){return document.createTextNode(t)}function h(){return d(" ")}function m(){return d("")}function g(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function v(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}let w;function x(t){w=t}const $=[],A=[],k=[],C=[],S=Promise.resolve();let _=!1;function O(t){k.push(t)}function I(t){C.push(t)}let j=!1;const E=new Set;function T(){if(!j){j=!0;do{for(let t=0;t<$.length;t+=1){const e=$[t];x(e),N(e.$$)}for(x(null),$.length=0;A.length;)A.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];E.has(e)||(E.add(e),e())}k.length=0}while($.length);for(;C.length;)C.pop()();_=!1,j=!1,E.clear()}}function N(t){if(null!==t.fragment){t.update(),r(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(O)}}const F=new Set;let L;function M(){L={r:0,c:[],p:L}}function P(){L.r||r(L.c),L=L.p}function D(t,e){t&&t.i&&(F.delete(t),t.i(e))}function U(t,e,n,r){if(t&&t.o){if(F.has(t))return;F.add(t),L.c.push((()=>{F.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}function Y(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function q(t){t&&t.c()}function B(t,n,i,c){const{fragment:l,on_mount:a,on_destroy:u,after_update:s}=t.$$;l&&l.m(n,i),c||O((()=>{const n=a.map(e).filter(o);u?u.push(...n):r(n),t.$$.on_mount=[]})),s.forEach(O)}function R(t,e){const n=t.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function z(t,e){-1===t.$$.dirty[0]&&($.push(t),_||(_=!0,S.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function G(e,o,i,c,l,a,u,f=[-1]){const p=w;x(e);const d=e.$$={fragment:null,ctx:null,props:a,update:t,not_equal:l,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(p?p.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||p.$$.root};u&&u(d.root);let h=!1;if(d.ctx=i?i(e,o.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&l(d.ctx[t],d.ctx[t]=o)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](o),h&&z(e,t)),n})):[],d.update(),h=!0,r(d.before_update),d.fragment=!!c&&c(d.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);d.fragment&&d.fragment.l(t),t.forEach(s)}else d.fragment&&d.fragment.c();o.intro&&D(e.$$.fragment),B(e,o.target,o.anchor,o.customElement),T()}x(p)}class W{$destroy(){R(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function K(t){let e,n,r,o,i;return{c(){e=p("p"),n=p("b"),r=d(t[2]),y(e,"class","card"),v(e,"background-color",t[3])},m(c,l){u(c,e,l),a(e,n),a(n,r),o||(i=g(e,"click",t[6]),o=!0)},p(t,n){4&n&&b(r,t[2]),8&n&&v(e,"background-color",t[3])},d(t){t&&s(e),o=!1,i()}}}function H(t){let e,n,r,o,i,l,f,m,w;const x=t[5].default,$=function(t,e,n,r){if(t){const o=c(t,e,n,r);return t[0](o)}}(x,t,t[4],null);return{c(){e=p("p"),n=p("b"),r=d(t[2]),o=h(),i=p("div"),$&&$.c(),y(e,"class","card"),v(e,"background-color",t[3]),y(i,"class",l="card-contents "+t[1])},m(c,l){u(c,e,l),a(e,n),a(n,r),u(c,o,l),u(c,i,l),$&&$.m(i,null),f=!0,m||(w=g(e,"click",t[7]),m=!0)},p(t,n){(!f||4&n)&&b(r,t[2]),(!f||8&n)&&v(e,"background-color",t[3]),$&&$.p&&(!f||16&n)&&function(t,e,n,r,o,i){if(o){const l=c(e,n,r,i);t.p(l,o)}}($,x,t,t[4],f?function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(x,t[4],n,null):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[4]),null),(!f||2&n&&l!==(l="card-contents "+t[1]))&&y(i,"class",l)},i(t){f||(D($,t),f=!0)},o(t){U($,t),f=!1},d(t){t&&s(e),t&&s(o),t&&s(i),$&&$.d(t),m=!1,w()}}}function V(t){let e,n,r,o,i=!t[0]&&K(t),c=t[0]&&H(t);return{c(){e=p("div"),i&&i.c(),n=h(),c&&c.c(),y(e,"class",r="card "+t[1]+" "+(t[0]?"open":"closed")),v(e,"border-color",t[3])},m(t,r){u(t,e,r),i&&i.m(e,null),a(e,n),c&&c.m(e,null),o=!0},p(t,[l]){t[0]?i&&(i.d(1),i=null):i?i.p(t,l):(i=K(t),i.c(),i.m(e,n)),t[0]?c?(c.p(t,l),1&l&&D(c,1)):(c=H(t),c.c(),D(c,1),c.m(e,null)):c&&(M(),U(c,1,1,(()=>{c=null})),P()),(!o||3&l&&r!==(r="card "+t[1]+" "+(t[0]?"open":"closed")))&&y(e,"class",r),(!o||8&l)&&v(e,"border-color",t[3])},i(t){o||(D(c),o=!0)},o(t){U(c),o=!1},d(t){t&&s(e),i&&i.d(),c&&c.d()}}}function Z(t,e,n){let{$$slots:r={},$$scope:o}=e,{size:i="small"}=e,{heading:c=""}=e,{open:l=!1}=e,{color:a="#17a"}=e;return t.$$set=t=>{"size"in t&&n(1,i=t.size),"heading"in t&&n(2,c=t.heading),"open"in t&&n(0,l=t.open),"color"in t&&n(3,a=t.color),"$$scope"in t&&n(4,o=t.$$scope)},[l,i,c,a,o,r,()=>n(0,l=!l),()=>n(0,l=!l)]}class Q extends W{constructor(t){super(),G(this,t,Z,V,i,{size:1,heading:2,open:0,color:3})}}function J(t){let e;return{c(){e=d(", repeatable")},m(t,n){u(t,e,n)},d(t){t&&s(e)}}}function X(t){let e,n,r=t[0].ritual+"";return{c(){e=d("Â "),n=d(r)},m(t,r){u(t,e,r),u(t,n,r)},p(t,e){1&e&&r!==(r=t[0].ritual+"")&&b(n,r)},d(t){t&&s(e),t&&s(n)}}}function tt(t){let e,n,r,o,i=t[0].uses+"";return{c(){e=p("p"),n=p("b"),n.textContent="Uses",r=h(),o=d(i)},m(t,i){u(t,e,i),a(e,n),a(e,r),a(e,o)},p(t,e){1&e&&i!==(i=t[0].uses+"")&&b(o,i)},d(t){t&&s(e)}}}function et(t){let e,n,r,o,i=t[0].concentration+"";return{c(){e=p("p"),n=p("b"),n.textContent="Concentration",r=h(),o=d(i)},m(t,i){u(t,e,i),a(e,n),a(e,r),a(e,o)},p(t,e){1&e&&i!==(i=t[0].concentration+"")&&b(o,i)},d(t){t&&s(e)}}}function nt(t){let e,n,r,o,i=t[0].duration+"";return{c(){e=p("p"),n=p("b"),n.textContent="Duration",r=h(),o=d(i)},m(t,i){u(t,e,i),a(e,n),a(e,r),a(e,o)},p(t,e){1&e&&i!==(i=t[0].duration+"")&&b(o,i)},d(t){t&&s(e)}}}function rt(t){let e,n,r,o,i,c,l,f,m,g,y,v=t[0].action+"",w=t[0].description+"",x=t[0].repeatable&&J(),$=t[0].ritual&&X(t),A=t[0].uses&&tt(t),k=t[0].concentration&&et(t),C=t[0].duration&&nt(t);return{c(){e=p("p"),n=p("b"),r=d(v),x&&x.c(),$&&$.c(),o=h(),A&&A.c(),i=h(),k&&k.c(),c=h(),C&&C.c(),l=h(),f=p("p"),m=p("b"),m.textContent="Description",g=h(),y=d(w)},m(t,s){u(t,e,s),a(e,n),a(n,r),x&&x.m(n,null),$&&$.m(e,null),u(t,o,s),A&&A.m(t,s),u(t,i,s),k&&k.m(t,s),u(t,c,s),C&&C.m(t,s),u(t,l,s),u(t,f,s),a(f,m),a(f,g),a(f,y)},p(t,o){1&o&&v!==(v=t[0].action+"")&&b(r,v),t[0].repeatable?x||(x=J(),x.c(),x.m(n,null)):x&&(x.d(1),x=null),t[0].ritual?$?$.p(t,o):($=X(t),$.c(),$.m(e,null)):$&&($.d(1),$=null),t[0].uses?A?A.p(t,o):(A=tt(t),A.c(),A.m(i.parentNode,i)):A&&(A.d(1),A=null),t[0].concentration?k?k.p(t,o):(k=et(t),k.c(),k.m(c.parentNode,c)):k&&(k.d(1),k=null),t[0].duration?C?C.p(t,o):(C=nt(t),C.c(),C.m(l.parentNode,l)):C&&(C.d(1),C=null),1&o&&w!==(w=t[0].description+"")&&b(y,w)},d(t){t&&s(e),x&&x.d(),$&&$.d(),t&&s(o),A&&A.d(t),t&&s(i),k&&k.d(t),t&&s(c),C&&C.d(t),t&&s(l),t&&s(f)}}}function ot(t){let e,n,r,o;function i(e){t[3](e)}function c(e){t[4](e)}let l={size:"small",color:t[2],$$slots:{default:[rt]},$$scope:{ctx:t}};return void 0!==t[0].name&&(l.heading=t[0].name),void 0!==t[1]&&(l.open=t[1]),e=new Q({props:l}),A.push((()=>Y(e,"heading",i))),A.push((()=>Y(e,"open",c))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),o=!0},p(t,[o]){const i={};4&o&&(i.color=t[2]),33&o&&(i.$$scope={dirty:o,ctx:t}),!n&&1&o&&(n=!0,i.heading=t[0].name,I((()=>n=!1))),!r&&2&o&&(r=!0,i.open=t[1],I((()=>r=!1))),e.$set(i)},i(t){o||(D(e.$$.fragment,t),o=!0)},o(t){U(e.$$.fragment,t),o=!1},d(t){R(e,t)}}}function it(t,e,n){let{doc:r}=e,{open:o}=e,{color:i}=e;return t.$$set=t=>{"doc"in t&&n(0,r=t.doc),"open"in t&&n(1,o=t.open),"color"in t&&n(2,i=t.color)},[r,o,i,function(e){t.$$.not_equal(r.name,e)&&(r.name=e,n(0,r))},function(t){o=t,n(1,o)}]}class ct extends W{constructor(t){super(),G(this,t,it,ot,i,{doc:0,open:1,color:2})}}function lt(t,e,n){const r=t.slice();return r[6]=e[n],r[7]=e,r[8]=n,r}function at(t){let e,n,r,o;function i(e){t[4](e,t[6],t[7],t[8])}function c(e){t[5](e)}let l={color:t[2]};return void 0!==t[6]&&(l.doc=t[6]),void 0!==t[1]&&(l.open=t[1]),e=new ct({props:l}),A.push((()=>Y(e,"doc",i))),A.push((()=>Y(e,"open",c))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),o=!0},p(o,i){t=o;const c={};4&i&&(c.color=t[2]),!n&&1&i&&(n=!0,c.doc=t[6],I((()=>n=!1))),!r&&2&i&&(r=!0,c.open=t[1],I((()=>r=!1))),e.$set(c)},i(t){o||(D(e.$$.fragment,t),o=!0)},o(t){U(e.$$.fragment,t),o=!1},d(t){R(e,t)}}}function ut(t){let e,n,r,o,i,c,l,m,v,w,x,$,A,k,C,S=t[0].name+"",_=t[0].type+"",O=t[0].actions,I=[];for(let e=0;e<O.length;e+=1)I[e]=at(lt(t,O,e));const j=t=>U(I[t],1,1,(()=>{I[t]=null}));return{c(){e=p("div"),n=p("p"),r=p("b"),o=d(S),i=d(" ("),c=d(_),l=d(")"),m=p("b"),w=h(),x=p("div");for(let t=0;t<I.length;t+=1)I[t].c();y(n,"class",v=t[1]?"open":"closed"),y(x,"class","card-collection"),y(e,"class",$=t[1]?"":"card-collection")},m(s,f){u(s,e,f),a(e,n),a(n,r),a(r,o),a(r,i),a(r,c),a(r,l),a(r,m),a(e,w),a(e,x);for(let t=0;t<I.length;t+=1)I[t].m(x,null);A=!0,k||(C=g(n,"click",t[3]),k=!0)},p(t,[r]){if((!A||1&r)&&S!==(S=t[0].name+"")&&b(o,S),(!A||1&r)&&_!==(_=t[0].type+"")&&b(c,_),(!A||2&r&&v!==(v=t[1]?"open":"closed"))&&y(n,"class",v),7&r){let e;for(O=t[0].actions,e=0;e<O.length;e+=1){const n=lt(t,O,e);I[e]?(I[e].p(n,r),D(I[e],1)):(I[e]=at(n),I[e].c(),D(I[e],1),I[e].m(x,null))}for(M(),e=O.length;e<I.length;e+=1)j(e);P()}(!A||2&r&&$!==($=t[1]?"":"card-collection"))&&y(e,"class",$)},i(t){if(!A){for(let t=0;t<O.length;t+=1)D(I[t]);A=!0}},o(t){I=I.filter(Boolean);for(let t=0;t<I.length;t+=1)U(I[t]);A=!1},d(t){t&&s(e),f(I,t),k=!1,C()}}}function st(t,e,n){let r,{doc:o}=e;"Arcana"===o.type?r="#040":"Discipline"===o.type&&(r="#400");let{open:i=!0}=e;return t.$$set=t=>{"doc"in t&&n(0,o=t.doc),"open"in t&&n(1,i=t.open)},[o,i,r,function(){n(1,i=!i)},function(t,e,r,i){r[i]=t,n(0,o)},function(t){i=t,n(1,i)}]}class ft extends W{constructor(t){super(),G(this,t,st,ut,i,{doc:0,open:1})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var pt=function(t,e){return pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},pt(t,e)};function dt(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}pt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ht=function(){return ht=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},ht.apply(this,arguments)};function mt(t,e,n,r){return new(n||(n=Promise))((function(o,i){function c(t){try{a(r.next(t))}catch(t){i(t)}}function l(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,l)}a((r=r.apply(t,e||[])).next())}))}function gt(t,e){var n,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function l(i){return function(l){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!(o=c.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(t,c)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,l])}}}function yt(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function bt(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),c=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c}function vt(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t}function wt(t){return this instanceof wt?(this.v=t,this):new wt(t)}function xt(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||l(t,e)}))})}function l(t,e){try{(n=o[t](e)).value instanceof wt?Promise.resolve(n.value.v).then(a,u):s(i[0][2],n)}catch(t){s(i[0][3],t)}var n}function a(t){l("next",t)}function u(t){l("throw",t)}function s(t,e){t(e),i.shift(),i.length&&l(i[0][0],i[0][1])}}function $t(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=yt(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}function At(t){return"function"==typeof t}function kt(t){var e=t((function(t){Error.call(t),t.stack=(new Error).stack}));return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Ct=kt((function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}}));function St(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var _t=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._teardowns=null}return t.prototype.unsubscribe=function(){var t,e,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var c=yt(i),l=c.next();!l.done;l=c.next()){l.value.remove(this)}}catch(e){t={error:e}}finally{try{l&&!l.done&&(e=c.return)&&e.call(c)}finally{if(t)throw t.error}}else i.remove(this);var a=this.initialTeardown;if(At(a))try{a()}catch(t){o=t instanceof Ct?t.errors:[t]}var u=this._teardowns;if(u){this._teardowns=null;try{for(var s=yt(u),f=s.next();!f.done;f=s.next()){var p=f.value;try{jt(p)}catch(t){o=null!=o?o:[],t instanceof Ct?o=vt(vt([],bt(o)),bt(t.errors)):o.push(t)}}}catch(t){n={error:t}}finally{try{f&&!f.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}if(o)throw new Ct(o)}},t.prototype.add=function(e){var n;if(e&&e!==this)if(this.closed)jt(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._teardowns=null!==(n=this._teardowns)&&void 0!==n?n:[]).push(e)}},t.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},t.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},t.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&St(e,t)},t.prototype.remove=function(e){var n=this._teardowns;n&&St(n,e),e instanceof t&&e._removeParent(this)},t.EMPTY=function(){var e=new t;return e.closed=!0,e}(),t}(),Ot=_t.EMPTY;function It(t){return t instanceof _t||t&&"closed"in t&&At(t.remove)&&At(t.add)&&At(t.unsubscribe)}function jt(t){At(t)?t():t.unsubscribe()}var Et={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Tt={setTimeout:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Tt.delegate;return((null==n?void 0:n.setTimeout)||setTimeout).apply(void 0,vt([],bt(t)))},clearTimeout:function(t){var e=Tt.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function Nt(t){Tt.setTimeout((function(){var e=Et.onUnhandledError;if(!e)throw t;e(t)}))}function Ft(){}var Lt=Mt("C",void 0,void 0);function Mt(t,e,n){return{kind:t,value:e,error:n}}var Pt=null;function Dt(t){if(Et.useDeprecatedSynchronousErrorHandling){var e=!Pt;if(e&&(Pt={errorThrown:!1,error:null}),t(),e){var n=Pt,r=n.errorThrown,o=n.error;if(Pt=null,r)throw o}}else t()}function Ut(t){Et.useDeprecatedSynchronousErrorHandling&&Pt&&(Pt.errorThrown=!0,Pt.error=t)}var Yt=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,It(e)&&e.add(n)):n.destination=Gt,n}return dt(e,t),e.create=function(t,e,n){return new qt(t,e,n)},e.prototype.next=function(t){this.isStopped?zt(function(t){return Mt("N",t,void 0)}(t),this):this._next(t)},e.prototype.error=function(t){this.isStopped?zt(Mt("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?zt(Lt,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(_t),qt=function(t){function e(e,n,r){var o,i=t.call(this)||this;if(At(e))o=e;else if(e){var c;o=e.next,n=e.error,r=e.complete,i&&Et.useDeprecatedNextContext?(c=Object.create(e)).unsubscribe=function(){return i.unsubscribe()}:c=e,o=null==o?void 0:o.bind(c),n=null==n?void 0:n.bind(c),r=null==r?void 0:r.bind(c)}return i.destination={next:o?Bt(o):Ft,error:Bt(null!=n?n:Rt),complete:r?Bt(r):Ft},i}return dt(e,t),e}(Yt);function Bt(t,e){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{t.apply(void 0,vt([],bt(e)))}catch(t){Et.useDeprecatedSynchronousErrorHandling?Ut(t):Nt(t)}}}function Rt(t){throw t}function zt(t,e){var n=Et.onStoppedNotification;n&&Tt.setTimeout((function(){return n(t,e)}))}var Gt={closed:!0,next:Ft,error:Rt,complete:Ft},Wt="function"==typeof Symbol&&Symbol.observable||"@@observable";function Kt(t){return t}function Ht(t){return 0===t.length?Kt:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var Vt=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r,o=this,i=(r=t)&&r instanceof Yt||function(t){return t&&At(t.next)&&At(t.error)&&At(t.complete)}(r)&&It(r)?t:new qt(t,e,n);return Dt((function(){var t=o,e=t.operator,n=t.source;i.add(e?e.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=Zt(e))((function(e,r){var o;o=n.subscribe((function(e){try{t(e)}catch(t){r(t),null==o||o.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e;return null===(e=this.source)||void 0===e?void 0:e.subscribe(t)},t.prototype[Wt]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ht(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=Zt(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function Zt(t){var e;return null!==(e=null!=t?t:Et.Promise)&&void 0!==e?e:Promise}function Qt(t){return function(e){if(function(t){return At(null==t?void 0:t.lift)}(e))return e.lift((function(e){try{return t(e,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}var Jt=function(t){function e(e,n,r,o,i){var c=t.call(this,e)||this;return c.onFinalize=i,c._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,c._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,c._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,c}return dt(e,t),e.prototype.unsubscribe=function(){var e,n=this.closed;t.prototype.unsubscribe.call(this),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))},e}(Yt),Xt=kt((function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),te=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return dt(e,t),e.prototype.lift=function(t){var e=new ee(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new Xt},e.prototype.next=function(t){var e=this;Dt((function(){var n,r;if(e._throwIfClosed(),!e.isStopped){var o=e.observers.slice();try{for(var i=yt(o),c=i.next();!c.done;c=i.next()){c.value.next(t)}}catch(t){n={error:t}}finally{try{c&&!c.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},e.prototype.error=function(t){var e=this;Dt((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}}))},e.prototype.complete=function(){var t=this;Dt((function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}}))},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=e.hasError,r=e.isStopped,o=e.observers;return n||r?Ot:(o.push(t),new _t((function(){return St(o,t)})))},e.prototype._checkFinalizedStatuses=function(t){var e=this,n=e.hasError,r=e.thrownError,o=e.isStopped;n?t.error(r):o&&t.complete()},e.prototype.asObservable=function(){var t=new Vt;return t.source=this,t},e.create=function(t,e){return new ee(t,e)},e}(Vt),ee=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return dt(e,t),e.prototype.next=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,t)},e.prototype.error=function(t){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,t)},e.prototype.complete=function(){var t,e;null===(e=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===e||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(t))&&void 0!==n?n:Ot},e}(te),ne=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return dt(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){var t=this,e=t.hasError,n=t.thrownError,r=t._value;if(e)throw n;return this._throwIfClosed(),r},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(te);function re(t){return t[t.length-1]}function oe(t){return At(re(t))?t.pop():void 0}function ie(t){return(e=re(t))&&At(e.schedule)?t.pop():void 0;var e}var ce=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function le(t){return At(null==t?void 0:t.then)}function ae(t){return At(t[Wt])}function ue(t){return Symbol.asyncIterator&&At(null==t?void 0:t[Symbol.asyncIterator])}function se(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var fe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function pe(t){return At(null==t?void 0:t[fe])}function de(t){return xt(this,arguments,(function(){var e,n,r;return gt(this,(function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,wt(e.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,wt(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,wt(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}}))}))}function he(t){return At(null==t?void 0:t.getReader)}function me(t){if(t instanceof Vt)return t;if(null!=t){if(ae(t))return o=t,new Vt((function(t){var e=o[Wt]();if(At(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(ce(t))return r=t,new Vt((function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()}));if(le(t))return n=t,new Vt((function(t){n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,Nt)}));if(ue(t))return ge(t);if(pe(t))return e=t,new Vt((function(t){var n,r;try{for(var o=yt(e),i=o.next();!i.done;i=o.next()){var c=i.value;if(t.next(c),t.closed)return}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()}));if(he(t))return ge(de(t))}var e,n,r,o;throw se(t)}function ge(t){return new Vt((function(e){(function(t,e){var n,r,o,i;return mt(this,void 0,void 0,(function(){var c,l;return gt(this,(function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=$t(t),a.label=1;case 1:return[4,n.next()];case 2:if((r=a.sent()).done)return[3,4];if(c=r.value,e.next(c),e.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return l=a.sent(),o={error:l},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}}))}))})(t,e).catch((function(t){return e.error(t)}))}))}function ye(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=e.schedule((function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(i),!o)return i}function be(t,e){return void 0===e&&(e=0),Qt((function(n,r){n.subscribe(new Jt(r,(function(n){return ye(r,t,(function(){return r.next(n)}),e)}),(function(){return ye(r,t,(function(){return r.complete()}),e)}),(function(n){return ye(r,t,(function(){return r.error(n)}),e)})))}))}function ve(t,e){return void 0===e&&(e=0),Qt((function(n,r){r.add(t.schedule((function(){return n.subscribe(r)}),e))}))}function we(t,e){if(!t)throw new Error("Iterable cannot be null");return new Vt((function(n){ye(n,e,(function(){var r=t[Symbol.asyncIterator]();ye(n,e,(function(){r.next().then((function(t){t.done?n.complete():n.next(t.value)}))}),0,!0)}))}))}function xe(t,e){if(null!=t){if(ae(t))return function(t,e){return me(t).pipe(ve(e),be(e))}(t,e);if(ce(t))return function(t,e){return new Vt((function(n){var r=0;return e.schedule((function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())}))}))}(t,e);if(le(t))return function(t,e){return me(t).pipe(ve(e),be(e))}(t,e);if(ue(t))return we(t,e);if(pe(t))return function(t,e){return new Vt((function(n){var r;return ye(n,e,(function(){r=t[fe](),ye(n,e,(function(){var t,e,o;try{e=(t=r.next()).value,o=t.done}catch(t){return void n.error(t)}o?n.complete():n.next(e)}),0,!0)})),function(){return At(null==r?void 0:r.return)&&r.return()}}))}(t,e);if(he(t))return function(t,e){return we(de(t),e)}(t,e)}throw se(t)}function $e(t,e){return e?xe(t,e):me(t)}function Ae(t,e){return Qt((function(n,r){var o=0;n.subscribe(new Jt(r,(function(n){r.next(t.call(e,n,o++))})))}))}var ke=Array.isArray;function Ce(t){return Ae((function(e){return function(t,e){return ke(e)?t.apply(void 0,vt([],bt(e))):t(e)}(t,e)}))}var Se=Array.isArray,_e=Object.getPrototypeOf,Oe=Object.prototype,Ie=Object.keys;function je(t){if(1===t.length){var e=t[0];if(Se(e))return{args:e,keys:null};if((r=e)&&"object"==typeof r&&_e(r)===Oe){var n=Ie(e);return{args:n.map((function(t){return e[t]})),keys:n}}}var r;return{args:t,keys:null}}function Ee(t,e){return t.reduce((function(t,n,r){return t[n]=e[r],t}),{})}function Te(t,e,n){return void 0===n&&(n=Kt),function(r){Ne(e,(function(){for(var o=t.length,i=new Array(o),c=o,l=o,a=function(o){Ne(e,(function(){var a=$e(t[o],e),u=!1;a.subscribe(new Jt(r,(function(t){i[o]=t,u||(u=!0,l--),l||r.next(n(i.slice()))}),(function(){--c||r.complete()})))}),r)},u=0;u<o;u++)a(u)}),r)}}function Ne(t,e,n){t?ye(n,t,e):e()}function Fe(t,e){return Qt((function(n,r){var o=null,i=0,c=!1,l=function(){return c&&!o&&r.complete()};n.subscribe(new Jt(r,(function(n){null==o||o.unsubscribe();var c=0,a=i++;me(t(n,a)).subscribe(o=new Jt(r,(function(t){return r.next(e?e(n,t,a,c++):t)}),(function(){o=null,l()})))}),(function(){c=!0,l()})))}))}function Le(t,e){void 0===e&&(e={});var n=e.selector,r=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}(e,["selector"]);return new Vt((function(e){var o=new AbortController,i=o.signal,c=!0,l=r.signal;if(l)if(l.aborted)o.abort();else{var a=function(){i.aborted||o.abort()};l.addEventListener("abort",a),e.add((function(){return l.removeEventListener("abort",a)}))}var u=ht(ht({},r),{signal:i}),s=function(t){c=!1,e.error(t)};return fetch(t,u).then((function(t){n?me(n(t)).subscribe(new Jt(e,void 0,(function(){c=!1,e.complete()}),s)):(c=!1,e.next(t),e.complete())})).catch(s),function(){c&&o.abort()}}))}
/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Me(t){return null==t}var Pe={isNothing:Me,isObject:function(t){return"object"==typeof t&&null!==t},toArray:function(t){return Array.isArray(t)?t:Me(t)?[]:[t]},repeat:function(t,e){var n,r="";for(n=0;n<e;n+=1)r+=t;return r},isNegativeZero:function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},extend:function(t,e){var n,r,o,i;if(e)for(n=0,r=(i=Object.keys(e)).length;n<r;n+=1)t[o=i[n]]=e[o];return t}};function De(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+="\n\n"+t.mark.snippet),r+" "+n):r}function Ue(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=De(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}Ue.prototype=Object.create(Error.prototype),Ue.prototype.constructor=Ue,Ue.prototype.toString=function(t){return this.name+": "+De(this,t)};var Ye=Ue;function qe(t,e,n,r,o){var i="",c="",l=Math.floor(o/2)-1;return r-e>l&&(e=r-l+(i=" ... ").length),n-r>l&&(n=r+l-(c=" ...").length),{str:i+t.slice(e,n).replace(/\t/g,"â†’")+c,pos:r-e+i.length}}function Be(t,e){return Pe.repeat(" ",e-t.length)+t}var Re=function(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),"number"!=typeof e.indent&&(e.indent=1),"number"!=typeof e.linesBefore&&(e.linesBefore=3),"number"!=typeof e.linesAfter&&(e.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,o=[0],i=[],c=-1;n=r.exec(t.buffer);)i.push(n.index),o.push(n.index+n[0].length),t.position<=n.index&&c<0&&(c=o.length-2);c<0&&(c=o.length-1);var l,a,u="",s=Math.min(t.line+e.linesAfter,i.length).toString().length,f=e.maxLength-(e.indent+s+3);for(l=1;l<=e.linesBefore&&!(c-l<0);l++)a=qe(t.buffer,o[c-l],i[c-l],t.position-(o[c]-o[c-l]),f),u=Pe.repeat(" ",e.indent)+Be((t.line-l+1).toString(),s)+" | "+a.str+"\n"+u;for(a=qe(t.buffer,o[c],i[c],t.position,f),u+=Pe.repeat(" ",e.indent)+Be((t.line+1).toString(),s)+" | "+a.str+"\n",u+=Pe.repeat("-",e.indent+s+3+a.pos)+"^\n",l=1;l<=e.linesAfter&&!(c+l>=i.length);l++)a=qe(t.buffer,o[c+l],i[c+l],t.position-(o[c]-o[c+l]),f),u+=Pe.repeat(" ",e.indent)+Be((t.line+l+1).toString(),s)+" | "+a.str+"\n";return u.replace(/\n$/,"")},ze=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],Ge=["scalar","sequence","mapping"];var We=function(t,e){if(e=e||{},Object.keys(e).forEach((function(e){if(-1===ze.indexOf(e))throw new Ye('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')})),this.options=e,this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=function(t){var e={};return null!==t&&Object.keys(t).forEach((function(n){t[n].forEach((function(t){e[String(t)]=n}))})),e}(e.styleAliases||null),-1===Ge.indexOf(this.kind))throw new Ye('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')};function Ke(t,e){var n=[];return t[e].forEach((function(t){var e=n.length;n.forEach((function(n,r){n.tag===t.tag&&n.kind===t.kind&&n.multi===t.multi&&(e=r)})),n[e]=t})),n}function He(t){return this.extend(t)}He.prototype.extend=function(t){var e=[],n=[];if(t instanceof We)n.push(t);else if(Array.isArray(t))n=n.concat(t);else{if(!t||!Array.isArray(t.implicit)&&!Array.isArray(t.explicit))throw new Ye("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.implicit&&(e=e.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit))}e.forEach((function(t){if(!(t instanceof We))throw new Ye("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(t.loadKind&&"scalar"!==t.loadKind)throw new Ye("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(t.multi)throw new Ye("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(t){if(!(t instanceof We))throw new Ye("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var r=Object.create(He.prototype);return r.implicit=(this.implicit||[]).concat(e),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=Ke(r,"implicit"),r.compiledExplicit=Ke(r,"explicit"),r.compiledTypeMap=function(){var t,e,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(t){t.multi?(n.multi[t.kind].push(t),n.multi.fallback.push(t)):n[t.kind][t.tag]=n.fallback[t.tag]=t}for(t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var Ve=He,Ze=new We("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}}),Qe=new We("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}}),Je=new We("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}}),Xe=new Ve({explicit:[Ze,Qe,Je]});var tn=new We("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var en=new We("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function nn(t){return 48<=t&&t<=55}function rn(t){return 48<=t&&t<=57}var on=new We("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=t.length,o=0,i=!1;if(!r)return!1;if("-"!==(e=t[o])&&"+"!==e||(e=t[++o]),"0"===e){if(o+1===r)return!0;if("b"===(e=t[++o])){for(o++;o<r;o++)if("_"!==(e=t[o])){if("0"!==e&&"1"!==e)return!1;i=!0}return i&&"_"!==e}if("x"===e){for(o++;o<r;o++)if("_"!==(e=t[o])){if(!(48<=(n=t.charCodeAt(o))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;i=!0}return i&&"_"!==e}if("o"===e){for(o++;o<r;o++)if("_"!==(e=t[o])){if(!nn(t.charCodeAt(o)))return!1;i=!0}return i&&"_"!==e}}if("_"===e)return!1;for(;o<r;o++)if("_"!==(e=t[o])){if(!rn(t.charCodeAt(o)))return!1;i=!0}return!(!i||"_"===e)},construct:function(t){var e,n=t,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(e=n[0])&&"+"!==e||("-"===e&&(r=-1),e=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===e){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!Pe.isNegativeZero(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),cn=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var ln=/^[-+]?[0-9]+e/;var an=new We("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return null!==t&&!(!cn.test(t)||"_"===t[t.length-1])},construct:function(t){var e,n;return n="-"===(e=t.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:n*parseFloat(e,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||Pe.isNegativeZero(t))},represent:function(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Pe.isNegativeZero(t))return"-0.0";return n=t.toString(10),ln.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),un=Xe.extend({implicit:[tn,en,on,an]}),sn=un,fn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),pn=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var dn=new We("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&(null!==fn.exec(t)||null!==pn.exec(t))},construct:function(t){var e,n,r,o,i,c,l,a,u=0,s=null;if(null===(e=fn.exec(t))&&(e=pn.exec(t)),null===e)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,o=+e[3],!e[4])return new Date(Date.UTC(n,r,o));if(i=+e[4],c=+e[5],l=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(s=6e4*(60*+e[10]+ +(e[11]||0)),"-"===e[9]&&(s=-s)),a=new Date(Date.UTC(n,r,o,i,c,l,u)),s&&a.setTime(a.getTime()-s),a},instanceOf:Date,represent:function(t){return t.toISOString()}});var hn=new We("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}}),mn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var gn=new We("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=0,o=t.length,i=mn;for(n=0;n<o;n++)if(!((e=i.indexOf(t.charAt(n)))>64)){if(e<0)return!1;r+=6}return r%8==0},construct:function(t){var e,n,r=t.replace(/[\r\n=]/g,""),o=r.length,i=mn,c=0,l=[];for(e=0;e<o;e++)e%4==0&&e&&(l.push(c>>16&255),l.push(c>>8&255),l.push(255&c)),c=c<<6|i.indexOf(r.charAt(e));return 0===(n=o%4*6)?(l.push(c>>16&255),l.push(c>>8&255),l.push(255&c)):18===n?(l.push(c>>10&255),l.push(c>>2&255)):12===n&&l.push(c>>4&255),new Uint8Array(l)},predicate:function(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)},represent:function(t){var e,n,r="",o=0,i=t.length,c=mn;for(e=0;e<i;e++)e%3==0&&e&&(r+=c[o>>18&63],r+=c[o>>12&63],r+=c[o>>6&63],r+=c[63&o]),o=(o<<8)+t[e];return 0===(n=i%3)?(r+=c[o>>18&63],r+=c[o>>12&63],r+=c[o>>6&63],r+=c[63&o]):2===n?(r+=c[o>>10&63],r+=c[o>>4&63],r+=c[o<<2&63],r+=c[64]):1===n&&(r+=c[o>>2&63],r+=c[o<<4&63],r+=c[64],r+=c[64]),r}}),yn=Object.prototype.hasOwnProperty,bn=Object.prototype.toString;var vn=new We("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,o,i,c=[],l=t;for(e=0,n=l.length;e<n;e+=1){if(r=l[e],i=!1,"[object Object]"!==bn.call(r))return!1;for(o in r)if(yn.call(r,o)){if(i)return!1;i=!0}if(!i)return!1;if(-1!==c.indexOf(o))return!1;c.push(o)}return!0},construct:function(t){return null!==t?t:[]}}),wn=Object.prototype.toString;var xn=new We("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,o,i,c=t;for(i=new Array(c.length),e=0,n=c.length;e<n;e+=1){if(r=c[e],"[object Object]"!==wn.call(r))return!1;if(1!==(o=Object.keys(r)).length)return!1;i[e]=[o[0],r[o[0]]]}return!0},construct:function(t){if(null===t)return[];var e,n,r,o,i,c=t;for(i=new Array(c.length),e=0,n=c.length;e<n;e+=1)r=c[e],o=Object.keys(r),i[e]=[o[0],r[o[0]]];return i}}),$n=Object.prototype.hasOwnProperty;var An=new We("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){if(null===t)return!0;var e,n=t;for(e in n)if($n.call(n,e)&&null!==n[e])return!1;return!0},construct:function(t){return null!==t?t:{}}}),kn=sn.extend({implicit:[dn,hn],explicit:[gn,vn,xn,An]}),Cn=Object.prototype.hasOwnProperty,Sn=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,_n=/[\x85\u2028\u2029]/,On=/[,\[\]\{\}]/,In=/^(?:!|!!|![a-z\-]+!)$/i,jn=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function En(t){return Object.prototype.toString.call(t)}function Tn(t){return 10===t||13===t}function Nn(t){return 9===t||32===t}function Fn(t){return 9===t||32===t||10===t||13===t}function Ln(t){return 44===t||91===t||93===t||123===t||125===t}function Mn(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function Pn(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t||9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"Â…":95===t?"Â ":76===t?"\u2028":80===t?"\u2029":""}function Dn(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var Un=new Array(256),Yn=new Array(256),qn=0;qn<256;qn++)Un[qn]=Pn(qn)?1:0,Yn[qn]=Pn(qn);function Bn(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||kn,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Rn(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=Re(n),new Ye(e,n)}function zn(t,e){throw Rn(t,e)}function Gn(t,e){t.onWarning&&t.onWarning.call(null,Rn(t,e))}var Wn={YAML:function(t,e,n){var r,o,i;null!==t.version&&zn(t,"duplication of %YAML directive"),1!==n.length&&zn(t,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&zn(t,"ill-formed argument of the YAML directive"),o=parseInt(r[1],10),i=parseInt(r[2],10),1!==o&&zn(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=i<2,1!==i&&2!==i&&Gn(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var r,o;2!==n.length&&zn(t,"TAG directive accepts exactly two arguments"),r=n[0],o=n[1],In.test(r)||zn(t,"ill-formed tag handle (first argument) of the TAG directive"),Cn.call(t.tagMap,r)&&zn(t,'there is a previously declared suffix for "'+r+'" tag handle'),jn.test(o)||zn(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch(e){zn(t,"tag prefix is malformed: "+o)}t.tagMap[r]=o}};function Kn(t,e,n,r){var o,i,c,l;if(e<n){if(l=t.input.slice(e,n),r)for(o=0,i=l.length;o<i;o+=1)9===(c=l.charCodeAt(o))||32<=c&&c<=1114111||zn(t,"expected valid JSON character");else Sn.test(l)&&zn(t,"the stream contains non-printable characters");t.result+=l}}function Hn(t,e,n,r){var o,i,c,l;for(Pe.isObject(n)||zn(t,"cannot merge mappings; the provided source object is unacceptable"),c=0,l=(o=Object.keys(n)).length;c<l;c+=1)i=o[c],Cn.call(e,i)||(e[i]=n[i],r[i]=!0)}function Vn(t,e,n,r,o,i,c,l,a){var u,s;if(Array.isArray(o))for(u=0,s=(o=Array.prototype.slice.call(o)).length;u<s;u+=1)Array.isArray(o[u])&&zn(t,"nested arrays are not supported inside keys"),"object"==typeof o&&"[object Object]"===En(o[u])&&(o[u]="[object Object]");if("object"==typeof o&&"[object Object]"===En(o)&&(o="[object Object]"),o=String(o),null===e&&(e={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(i))for(u=0,s=i.length;u<s;u+=1)Hn(t,e,i[u],n);else Hn(t,e,i,n);else t.json||Cn.call(n,o)||!Cn.call(e,o)||(t.line=c||t.line,t.lineStart=l||t.lineStart,t.position=a||t.position,zn(t,"duplicated mapping key")),"__proto__"===o?Object.defineProperty(e,o,{configurable:!0,enumerable:!0,writable:!0,value:i}):e[o]=i,delete n[o];return e}function Zn(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):zn(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function Qn(t,e,n){for(var r=0,o=t.input.charCodeAt(t.position);0!==o;){for(;Nn(o);)9===o&&-1===t.firstTabInLine&&(t.firstTabInLine=t.position),o=t.input.charCodeAt(++t.position);if(e&&35===o)do{o=t.input.charCodeAt(++t.position)}while(10!==o&&13!==o&&0!==o);if(!Tn(o))break;for(Zn(t),o=t.input.charCodeAt(t.position),r++,t.lineIndent=0;32===o;)t.lineIndent++,o=t.input.charCodeAt(++t.position)}return-1!==n&&0!==r&&t.lineIndent<n&&Gn(t,"deficient indentation"),r}function Jn(t){var e,n=t.position;return!(45!==(e=t.input.charCodeAt(n))&&46!==e||e!==t.input.charCodeAt(n+1)||e!==t.input.charCodeAt(n+2)||(n+=3,0!==(e=t.input.charCodeAt(n))&&!Fn(e)))}function Xn(t,e){1===e?t.result+=" ":e>1&&(t.result+=Pe.repeat("\n",e-1))}function tr(t,e){var n,r,o=t.tag,i=t.anchor,c=[],l=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=c),r=t.input.charCodeAt(t.position);0!==r&&(-1!==t.firstTabInLine&&(t.position=t.firstTabInLine,zn(t,"tab characters must not be used in indentation")),45===r)&&Fn(t.input.charCodeAt(t.position+1));)if(l=!0,t.position++,Qn(t,!0,-1)&&t.lineIndent<=e)c.push(null),r=t.input.charCodeAt(t.position);else if(n=t.line,rr(t,e,3,!1,!0),c.push(t.result),Qn(t,!0,-1),r=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==r)zn(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!l&&(t.tag=o,t.anchor=i,t.kind="sequence",t.result=c,!0)}function er(t){var e,n,r,o,i=!1,c=!1;if(33!==(o=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&zn(t,"duplication of a tag property"),60===(o=t.input.charCodeAt(++t.position))?(i=!0,o=t.input.charCodeAt(++t.position)):33===o?(c=!0,n="!!",o=t.input.charCodeAt(++t.position)):n="!",e=t.position,i){do{o=t.input.charCodeAt(++t.position)}while(0!==o&&62!==o);t.position<t.length?(r=t.input.slice(e,t.position),o=t.input.charCodeAt(++t.position)):zn(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==o&&!Fn(o);)33===o&&(c?zn(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),In.test(n)||zn(t,"named tag handle cannot contain such characters"),c=!0,e=t.position+1)),o=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),On.test(r)&&zn(t,"tag suffix cannot contain flow indicator characters")}r&&!jn.test(r)&&zn(t,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(e){zn(t,"tag name is malformed: "+r)}return i?t.tag=r:Cn.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:zn(t,'undeclared tag handle "'+n+'"'),!0}function nr(t){var e,n;if(38!==(n=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&zn(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!Fn(n)&&!Ln(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&zn(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function rr(t,e,n,r,o){var i,c,l,a,u,s,f,p,d,h=1,m=!1,g=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,i=c=l=4===n||3===n,r&&Qn(t,!0,-1)&&(m=!0,t.lineIndent>e?h=1:t.lineIndent===e?h=0:t.lineIndent<e&&(h=-1)),1===h)for(;er(t)||nr(t);)Qn(t,!0,-1)?(m=!0,l=i,t.lineIndent>e?h=1:t.lineIndent===e?h=0:t.lineIndent<e&&(h=-1)):l=!1;if(l&&(l=m||o),1!==h&&4!==n||(p=1===n||2===n?e:e+1,d=t.position-t.lineStart,1===h?l&&(tr(t,d)||function(t,e,n){var r,o,i,c,l,a,u,s=t.tag,f=t.anchor,p={},d=Object.create(null),h=null,m=null,g=null,y=!1,b=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=p),u=t.input.charCodeAt(t.position);0!==u;){if(y||-1===t.firstTabInLine||(t.position=t.firstTabInLine,zn(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),i=t.line,63!==u&&58!==u||!Fn(r)){if(c=t.line,l=t.lineStart,a=t.position,!rr(t,n,2,!1,!0))break;if(t.line===i){for(u=t.input.charCodeAt(t.position);Nn(u);)u=t.input.charCodeAt(++t.position);if(58===u)Fn(u=t.input.charCodeAt(++t.position))||zn(t,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(Vn(t,p,d,h,m,null,c,l,a),h=m=g=null),b=!0,y=!1,o=!1,h=t.tag,m=t.result;else{if(!b)return t.tag=s,t.anchor=f,!0;zn(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!b)return t.tag=s,t.anchor=f,!0;zn(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===u?(y&&(Vn(t,p,d,h,m,null,c,l,a),h=m=g=null),b=!0,y=!0,o=!0):y?(y=!1,o=!0):zn(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,u=r;if((t.line===i||t.lineIndent>e)&&(y&&(c=t.line,l=t.lineStart,a=t.position),rr(t,e,4,!0,o)&&(y?m=t.result:g=t.result),y||(Vn(t,p,d,h,m,g,c,l,a),h=m=g=null),Qn(t,!0,-1),u=t.input.charCodeAt(t.position)),(t.line===i||t.lineIndent>e)&&0!==u)zn(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return y&&Vn(t,p,d,h,m,null,c,l,a),b&&(t.tag=s,t.anchor=f,t.kind="mapping",t.result=p),b}(t,d,p))||function(t,e){var n,r,o,i,c,l,a,u,s,f,p,d,h=!0,m=t.tag,g=t.anchor,y=Object.create(null);if(91===(d=t.input.charCodeAt(t.position)))c=93,u=!1,i=[];else{if(123!==d)return!1;c=125,u=!0,i={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=i),d=t.input.charCodeAt(++t.position);0!==d;){if(Qn(t,!0,e),(d=t.input.charCodeAt(t.position))===c)return t.position++,t.tag=m,t.anchor=g,t.kind=u?"mapping":"sequence",t.result=i,!0;h?44===d&&zn(t,"expected the node content, but found ','"):zn(t,"missed comma between flow collection entries"),p=null,l=a=!1,63===d&&Fn(t.input.charCodeAt(t.position+1))&&(l=a=!0,t.position++,Qn(t,!0,e)),n=t.line,r=t.lineStart,o=t.position,rr(t,e,1,!1,!0),f=t.tag,s=t.result,Qn(t,!0,e),d=t.input.charCodeAt(t.position),!a&&t.line!==n||58!==d||(l=!0,d=t.input.charCodeAt(++t.position),Qn(t,!0,e),rr(t,e,1,!1,!0),p=t.result),u?Vn(t,i,y,f,s,p,n,r,o):l?i.push(Vn(t,null,y,f,s,p,n,r,o)):i.push(s),Qn(t,!0,e),44===(d=t.input.charCodeAt(t.position))?(h=!0,d=t.input.charCodeAt(++t.position)):h=!1}zn(t,"unexpected end of the stream within a flow collection")}(t,p)?g=!0:(c&&function(t,e){var n,r,o,i,c,l=1,a=!1,u=!1,s=e,f=0,p=!1;if(124===(i=t.input.charCodeAt(t.position)))r=!1;else{if(62!==i)return!1;r=!0}for(t.kind="scalar",t.result="";0!==i;)if(43===(i=t.input.charCodeAt(++t.position))||45===i)1===l?l=43===i?3:2:zn(t,"repeat of a chomping mode identifier");else{if(!((o=48<=(c=i)&&c<=57?c-48:-1)>=0))break;0===o?zn(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):u?zn(t,"repeat of an indentation width identifier"):(s=e+o-1,u=!0)}if(Nn(i)){do{i=t.input.charCodeAt(++t.position)}while(Nn(i));if(35===i)do{i=t.input.charCodeAt(++t.position)}while(!Tn(i)&&0!==i)}for(;0!==i;){for(Zn(t),t.lineIndent=0,i=t.input.charCodeAt(t.position);(!u||t.lineIndent<s)&&32===i;)t.lineIndent++,i=t.input.charCodeAt(++t.position);if(!u&&t.lineIndent>s&&(s=t.lineIndent),Tn(i))f++;else{if(t.lineIndent<s){3===l?t.result+=Pe.repeat("\n",a?1+f:f):1===l&&a&&(t.result+="\n");break}for(r?Nn(i)?(p=!0,t.result+=Pe.repeat("\n",a?1+f:f)):p?(p=!1,t.result+=Pe.repeat("\n",f+1)):0===f?a&&(t.result+=" "):t.result+=Pe.repeat("\n",f):t.result+=Pe.repeat("\n",a?1+f:f),a=!0,u=!0,f=0,n=t.position;!Tn(i)&&0!==i;)i=t.input.charCodeAt(++t.position);Kn(t,n,t.position,!1)}}return!0}(t,p)||function(t,e){var n,r,o;if(39!==(n=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,r=o=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(Kn(t,r,t.position,!0),39!==(n=t.input.charCodeAt(++t.position)))return!0;r=t.position,t.position++,o=t.position}else Tn(n)?(Kn(t,r,o,!0),Xn(t,Qn(t,!1,e)),r=o=t.position):t.position===t.lineStart&&Jn(t)?zn(t,"unexpected end of the document within a single quoted scalar"):(t.position++,o=t.position);zn(t,"unexpected end of the stream within a single quoted scalar")}(t,p)||function(t,e){var n,r,o,i,c,l,a;if(34!==(l=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;0!==(l=t.input.charCodeAt(t.position));){if(34===l)return Kn(t,n,t.position,!0),t.position++,!0;if(92===l){if(Kn(t,n,t.position,!0),Tn(l=t.input.charCodeAt(++t.position)))Qn(t,!1,e);else if(l<256&&Un[l])t.result+=Yn[l],t.position++;else if((c=120===(a=l)?2:117===a?4:85===a?8:0)>0){for(o=c,i=0;o>0;o--)(c=Mn(l=t.input.charCodeAt(++t.position)))>=0?i=(i<<4)+c:zn(t,"expected hexadecimal character");t.result+=Dn(i),t.position++}else zn(t,"unknown escape sequence");n=r=t.position}else Tn(l)?(Kn(t,n,r,!0),Xn(t,Qn(t,!1,e)),n=r=t.position):t.position===t.lineStart&&Jn(t)?zn(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}zn(t,"unexpected end of the stream within a double quoted scalar")}(t,p)?g=!0:!function(t){var e,n,r;if(42!==(r=t.input.charCodeAt(t.position)))return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!Fn(r)&&!Ln(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&zn(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),Cn.call(t.anchorMap,n)||zn(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],Qn(t,!0,-1),!0}(t)?function(t,e,n){var r,o,i,c,l,a,u,s,f=t.kind,p=t.result;if(Fn(s=t.input.charCodeAt(t.position))||Ln(s)||35===s||38===s||42===s||33===s||124===s||62===s||39===s||34===s||37===s||64===s||96===s)return!1;if((63===s||45===s)&&(Fn(r=t.input.charCodeAt(t.position+1))||n&&Ln(r)))return!1;for(t.kind="scalar",t.result="",o=i=t.position,c=!1;0!==s;){if(58===s){if(Fn(r=t.input.charCodeAt(t.position+1))||n&&Ln(r))break}else if(35===s){if(Fn(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&Jn(t)||n&&Ln(s))break;if(Tn(s)){if(l=t.line,a=t.lineStart,u=t.lineIndent,Qn(t,!1,-1),t.lineIndent>=e){c=!0,s=t.input.charCodeAt(t.position);continue}t.position=i,t.line=l,t.lineStart=a,t.lineIndent=u;break}}c&&(Kn(t,o,i,!1),Xn(t,t.line-l),o=i=t.position,c=!1),Nn(s)||(i=t.position+1),s=t.input.charCodeAt(++t.position)}return Kn(t,o,i,!1),!!t.result||(t.kind=f,t.result=p,!1)}(t,p,1===n)&&(g=!0,null===t.tag&&(t.tag="?")):(g=!0,null===t.tag&&null===t.anchor||zn(t,"alias node should not have any properties")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===h&&(g=l&&tr(t,d))),null===t.tag)null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);else if("?"===t.tag){for(null!==t.result&&"scalar"!==t.kind&&zn(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),a=0,u=t.implicitTypes.length;a<u;a+=1)if((f=t.implicitTypes[a]).resolve(t.result)){t.result=f.construct(t.result),t.tag=f.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else if("!"!==t.tag){if(Cn.call(t.typeMap[t.kind||"fallback"],t.tag))f=t.typeMap[t.kind||"fallback"][t.tag];else for(f=null,a=0,u=(s=t.typeMap.multi[t.kind||"fallback"]).length;a<u;a+=1)if(t.tag.slice(0,s[a].tag.length)===s[a].tag){f=s[a];break}f||zn(t,"unknown tag !<"+t.tag+">"),null!==t.result&&f.kind!==t.kind&&zn(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+f.kind+'", not "'+t.kind+'"'),f.resolve(t.result,t.tag)?(t.result=f.construct(t.result,t.tag),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):zn(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||g}function or(t){var e,n,r,o,i=t.position,c=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);0!==(o=t.input.charCodeAt(t.position))&&(Qn(t,!0,-1),o=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==o));){for(c=!0,o=t.input.charCodeAt(++t.position),e=t.position;0!==o&&!Fn(o);)o=t.input.charCodeAt(++t.position);for(r=[],(n=t.input.slice(e,t.position)).length<1&&zn(t,"directive name must not be less than one character in length");0!==o;){for(;Nn(o);)o=t.input.charCodeAt(++t.position);if(35===o){do{o=t.input.charCodeAt(++t.position)}while(0!==o&&!Tn(o));break}if(Tn(o))break;for(e=t.position;0!==o&&!Fn(o);)o=t.input.charCodeAt(++t.position);r.push(t.input.slice(e,t.position))}0!==o&&Zn(t),Cn.call(Wn,n)?Wn[n](t,n,r):Gn(t,'unknown document directive "'+n+'"')}Qn(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,Qn(t,!0,-1)):c&&zn(t,"directives end mark is expected"),rr(t,t.lineIndent-1,4,!1,!0),Qn(t,!0,-1),t.checkLineBreaks&&_n.test(t.input.slice(i,t.position))&&Gn(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&Jn(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,Qn(t,!0,-1)):t.position<t.length-1&&zn(t,"end of the stream or a document separator is expected")}function ir(t,e){e=e||{},0!==(t=String(t)).length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new Bn(t,e),r=t.indexOf("\0");for(-1!==r&&(n.position=r,zn(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)or(n);return n.documents}var cr=function(t,e,n){null!==e&&"object"==typeof e&&void 0===n&&(n=e,e=null);var r=ir(t,n);if("function"!=typeof e)return r;for(var o=0,i=r.length;o<i;o+=1)e(r[o])},lr={loadAll:cr,load:function(t,e){var n=ir(t,e);if(0!==n.length){if(1===n.length)return n[0];throw new Ye("expected a single document in the stream, but found more")}}},ar=Object.prototype.toString,ur=Object.prototype.hasOwnProperty,sr=65279,fr={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},pr=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],dr=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function hr(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else{if(!(t<=4294967295))throw new Ye("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+Pe.repeat("0",r-e.length)+e}function mr(t){this.schema=t.schema||kn,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=Pe.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function(t,e){var n,r,o,i,c,l,a;if(null===e)return{};for(n={},o=0,i=(r=Object.keys(e)).length;o<i;o+=1)c=r[o],l=String(e[c]),"!!"===c.slice(0,2)&&(c="tag:yaml.org,2002:"+c.slice(2)),(a=t.compiledTypeMap.fallback[c])&&ur.call(a.styleAliases,l)&&(l=a.styleAliases[l]),n[c]=l;return n}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType='"'===t.quotingType?2:1,this.forceQuotes=t.forceQuotes||!1,this.replacer="function"==typeof t.replacer?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function gr(t,e){for(var n,r=Pe.repeat(" ",e),o=0,i=-1,c="",l=t.length;o<l;)-1===(i=t.indexOf("\n",o))?(n=t.slice(o),o=l):(n=t.slice(o,i+1),o=i+1),n.length&&"\n"!==n&&(c+=r),c+=n;return c}function yr(t,e){return"\n"+Pe.repeat(" ",t.indent*e)}function br(t){return 32===t||9===t}function vr(t){return 32<=t&&t<=126||161<=t&&t<=55295&&8232!==t&&8233!==t||57344<=t&&t<=65533&&t!==sr||65536<=t&&t<=1114111}function wr(t){return vr(t)&&t!==sr&&13!==t&&10!==t}function xr(t,e,n){var r=wr(t),o=r&&!br(t);return(n?r:r&&44!==t&&91!==t&&93!==t&&123!==t&&125!==t)&&35!==t&&!(58===e&&!o)||wr(e)&&!br(e)&&35===t||58===e&&o}function $r(t,e){var n,r=t.charCodeAt(e);return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}function Ar(t){return/^\n* /.test(t)}function kr(t,e,n,r,o,i,c,l){var a,u,s=0,f=null,p=!1,d=!1,h=-1!==r,m=-1,g=vr(u=$r(t,0))&&u!==sr&&!br(u)&&45!==u&&63!==u&&58!==u&&44!==u&&91!==u&&93!==u&&123!==u&&125!==u&&35!==u&&38!==u&&42!==u&&33!==u&&124!==u&&61!==u&&62!==u&&39!==u&&34!==u&&37!==u&&64!==u&&96!==u&&function(t){return!br(t)&&58!==t}($r(t,t.length-1));if(e||c)for(a=0;a<t.length;s>=65536?a+=2:a++){if(!vr(s=$r(t,a)))return 5;g=g&&xr(s,f,l),f=s}else{for(a=0;a<t.length;s>=65536?a+=2:a++){if(10===(s=$r(t,a)))p=!0,h&&(d=d||a-m-1>r&&" "!==t[m+1],m=a);else if(!vr(s))return 5;g=g&&xr(s,f,l),f=s}d=d||h&&a-m-1>r&&" "!==t[m+1]}return p||d?n>9&&Ar(t)?5:c?2===i?5:2:d?4:3:!g||c||o(t)?2===i?5:2:1}function Cr(t,e,n,r,o){t.dump=function(){if(0===e.length)return 2===t.quotingType?'""':"''";if(!t.noCompatMode&&(-1!==pr.indexOf(e)||dr.test(e)))return 2===t.quotingType?'"'+e+'"':"'"+e+"'";var i=t.indent*Math.max(1,n),c=-1===t.lineWidth?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-i),l=r||t.flowLevel>-1&&n>=t.flowLevel;switch(kr(e,l,t.indent,c,(function(e){return function(t,e){var n,r;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(t.implicitTypes[n].resolve(e))return!0;return!1}(t,e)}),t.quotingType,t.forceQuotes&&!r,o)){case 1:return e;case 2:return"'"+e.replace(/'/g,"''")+"'";case 3:return"|"+Sr(e,t.indent)+_r(gr(e,i));case 4:return">"+Sr(e,t.indent)+_r(gr(function(t,e){var n,r,o=/(\n+)([^\n]*)/g,i=(l=t.indexOf("\n"),l=-1!==l?l:t.length,o.lastIndex=l,Or(t.slice(0,l),e)),c="\n"===t[0]||" "===t[0];var l;for(;r=o.exec(t);){var a=r[1],u=r[2];n=" "===u[0],i+=a+(c||n||""===u?"":"\n")+Or(u,e),c=n}return i}(e,c),i));case 5:return'"'+function(t){for(var e,n="",r=0,o=0;o<t.length;r>=65536?o+=2:o++)r=$r(t,o),!(e=fr[r])&&vr(r)?(n+=t[o],r>=65536&&(n+=t[o+1])):n+=e||hr(r);return n}(e)+'"';default:throw new Ye("impossible error: invalid scalar style")}}()}function Sr(t,e){var n=Ar(t)?String(e):"",r="\n"===t[t.length-1];return n+(r&&("\n"===t[t.length-2]||"\n"===t)?"+":r?"":"-")+"\n"}function _r(t){return"\n"===t[t.length-1]?t.slice(0,-1):t}function Or(t,e){if(""===t||" "===t[0])return t;for(var n,r,o=/ [^ ]/g,i=0,c=0,l=0,a="";n=o.exec(t);)(l=n.index)-i>e&&(r=c>i?c:l,a+="\n"+t.slice(i,r),i=r+1),c=l;return a+="\n",t.length-i>e&&c>i?a+=t.slice(i,c)+"\n"+t.slice(c+1):a+=t.slice(i),a.slice(1)}function Ir(t,e,n,r){var o,i,c,l="",a=t.tag;for(o=0,i=n.length;o<i;o+=1)c=n[o],t.replacer&&(c=t.replacer.call(n,String(o),c)),(Er(t,e+1,c,!0,!0,!1,!0)||void 0===c&&Er(t,e+1,null,!0,!0,!1,!0))&&(r&&""===l||(l+=yr(t,e)),t.dump&&10===t.dump.charCodeAt(0)?l+="-":l+="- ",l+=t.dump);t.tag=a,t.dump=l||"[]"}function jr(t,e,n){var r,o,i,c,l,a;for(i=0,c=(o=n?t.explicitTypes:t.implicitTypes).length;i<c;i+=1)if(((l=o[i]).instanceOf||l.predicate)&&(!l.instanceOf||"object"==typeof e&&e instanceof l.instanceOf)&&(!l.predicate||l.predicate(e))){if(n?l.multi&&l.representName?t.tag=l.representName(e):t.tag=l.tag:t.tag="?",l.represent){if(a=t.styleMap[l.tag]||l.defaultStyle,"[object Function]"===ar.call(l.represent))r=l.represent(e,a);else{if(!ur.call(l.represent,a))throw new Ye("!<"+l.tag+'> tag resolver accepts not "'+a+'" style');r=l.represent[a](e,a)}t.dump=r}return!0}return!1}function Er(t,e,n,r,o,i,c){t.tag=null,t.dump=n,jr(t,n,!1)||jr(t,n,!0);var l,a=ar.call(t.dump),u=r;r&&(r=t.flowLevel<0||t.flowLevel>e);var s,f,p="[object Object]"===a||"[object Array]"===a;if(p&&(f=-1!==(s=t.duplicates.indexOf(n))),(null!==t.tag&&"?"!==t.tag||f||2!==t.indent&&e>0)&&(o=!1),f&&t.usedDuplicates[s])t.dump="*ref_"+s;else{if(p&&f&&!t.usedDuplicates[s]&&(t.usedDuplicates[s]=!0),"[object Object]"===a)r&&0!==Object.keys(t.dump).length?(!function(t,e,n,r){var o,i,c,l,a,u,s="",f=t.tag,p=Object.keys(n);if(!0===t.sortKeys)p.sort();else if("function"==typeof t.sortKeys)p.sort(t.sortKeys);else if(t.sortKeys)throw new Ye("sortKeys must be a boolean or a function");for(o=0,i=p.length;o<i;o+=1)u="",r&&""===s||(u+=yr(t,e)),l=n[c=p[o]],t.replacer&&(l=t.replacer.call(n,c,l)),Er(t,e+1,c,!0,!0,!0)&&((a=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&10===t.dump.charCodeAt(0)?u+="?":u+="? "),u+=t.dump,a&&(u+=yr(t,e)),Er(t,e+1,l,!0,a)&&(t.dump&&10===t.dump.charCodeAt(0)?u+=":":u+=": ",s+=u+=t.dump));t.tag=f,t.dump=s||"{}"}(t,e,t.dump,o),f&&(t.dump="&ref_"+s+t.dump)):(!function(t,e,n){var r,o,i,c,l,a="",u=t.tag,s=Object.keys(n);for(r=0,o=s.length;r<o;r+=1)l="",""!==a&&(l+=", "),t.condenseFlow&&(l+='"'),c=n[i=s[r]],t.replacer&&(c=t.replacer.call(n,i,c)),Er(t,e,i,!1,!1)&&(t.dump.length>1024&&(l+="? "),l+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Er(t,e,c,!1,!1)&&(a+=l+=t.dump));t.tag=u,t.dump="{"+a+"}"}(t,e,t.dump),f&&(t.dump="&ref_"+s+" "+t.dump));else if("[object Array]"===a)r&&0!==t.dump.length?(t.noArrayIndent&&!c&&e>0?Ir(t,e-1,t.dump,o):Ir(t,e,t.dump,o),f&&(t.dump="&ref_"+s+t.dump)):(!function(t,e,n){var r,o,i,c="",l=t.tag;for(r=0,o=n.length;r<o;r+=1)i=n[r],t.replacer&&(i=t.replacer.call(n,String(r),i)),(Er(t,e,i,!1,!1)||void 0===i&&Er(t,e,null,!1,!1))&&(""!==c&&(c+=","+(t.condenseFlow?"":" ")),c+=t.dump);t.tag=l,t.dump="["+c+"]"}(t,e,t.dump),f&&(t.dump="&ref_"+s+" "+t.dump));else{if("[object String]"!==a){if("[object Undefined]"===a)return!1;if(t.skipInvalid)return!1;throw new Ye("unacceptable kind of an object to dump "+a)}"?"!==t.tag&&Cr(t,t.dump,e,i,u)}null!==t.tag&&"?"!==t.tag&&(l=encodeURI("!"===t.tag[0]?t.tag.slice(1):t.tag).replace(/!/g,"%21"),l="!"===t.tag[0]?"!"+l:"tag:yaml.org,2002:"===l.slice(0,18)?"!!"+l.slice(18):"!<"+l+">",t.dump=l+" "+t.dump)}return!0}function Tr(t,e){var n,r,o=[],i=[];for(Nr(t,o,i),n=0,r=i.length;n<r;n+=1)e.duplicates.push(o[i[n]]);e.usedDuplicates=new Array(r)}function Nr(t,e,n){var r,o,i;if(null!==t&&"object"==typeof t)if(-1!==(o=e.indexOf(t)))-1===n.indexOf(o)&&n.push(o);else if(e.push(t),Array.isArray(t))for(o=0,i=t.length;o<i;o+=1)Nr(t[o],e,n);else for(o=0,i=(r=Object.keys(t)).length;o<i;o+=1)Nr(t[r[o]],e,n)}function Fr(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Lr={Type:We,Schema:Ve,FAILSAFE_SCHEMA:Xe,JSON_SCHEMA:un,CORE_SCHEMA:sn,DEFAULT_SCHEMA:kn,load:lr.load,loadAll:lr.loadAll,dump:{dump:function(t,e){var n=new mr(e=e||{});n.noRefs||Tr(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Er(n,0,r,!0,!0)?n.dump+"\n":""}}.dump,YAMLException:Ye,types:{binary:gn,float:an,map:Je,null:tn,pairs:xn,set:An,timestamp:dn,bool:en,int:on,merge:hn,omap:vn,seq:Qe,str:Ze},safeLoad:Fr("safeLoad","load"),safeLoadAll:Fr("safeLoadAll","loadAll"),safeDump:Fr("safeDump","dump")};const Mr=new ne([]),Pr=new ne([]),Dr=new ne([]),Ur=new ne([]);function Yr(t,e,n){const r=t.slice();return r[5]=e[n],r}function qr(t,e,n){const r=t.slice();return r[8]=e[n],r}function Br(t,e,n){const r=t.slice();return r[8]=e[n],r}function Rr(t){let e;function n(t,e){return t[5].name?Vr:t[5].tags?Hr:t[5].options?Kr:Wr}let r=n(t),o=r(t);return{c(){o.c(),e=m()},m(t,n){o.m(t,n),u(t,e,n)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o.d(1),o=r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o.d(t),t&&s(e)}}}function zr(t){let e;function n(t,e){return t[5].stat?Jr:t[5].options?Qr:void 0}let r=n(t),o=r&&r(t);return{c(){o&&o.c(),e=m()},m(t,n){o&&o.m(t,n),u(t,e,n)},p(t,i){r===(r=n(t))&&o?o.p(t,i):(o&&o.d(1),o=r&&r(t),o&&(o.c(),o.m(e.parentNode,e)))},d(t){o&&o.d(t),t&&s(e)}}}function Gr(t){let e,n,r,o,i,c=t[5].name+"",l=t[5].description+"";return{c(){e=p("p"),n=p("b"),r=d(c),o=d("Â  - "),i=d(l)},m(t,c){u(t,e,c),a(e,n),a(n,r),a(e,o),a(e,i)},p(t,e){1&e&&c!==(c=t[5].name+"")&&b(r,c),1&e&&l!==(l=t[5].description+"")&&b(i,l)},d(t){t&&s(e)}}}function Wr(t){let e,n,r,o,i=t[5].type+"";return{c(){e=p("p"),n=d("Gain any "),r=d(i),o=d(".")},m(t,i){u(t,e,i),a(e,n),a(e,r),a(e,o)},p(t,e){1&e&&i!==(i=t[5].type+"")&&b(r,i)},d(t){t&&s(e)}}}function Kr(t){let e,n,r,o,i,c,l,m,g=(t[5].select?t[5].select:1)+"",y=t[5].repeat?" (repeats allowed)":"",v=t[5].options,w=[];for(let e=0;e<v.length;e+=1)w[e]=Zr(qr(t,v,e));return{c(){e=p("p"),n=d("Choose "),r=d(g),o=d(" of"),i=d(y),c=d(":"),l=h(),m=p("ul");for(let t=0;t<w.length;t+=1)w[t].c()},m(t,s){u(t,e,s),a(e,n),a(e,r),a(e,o),a(e,i),a(e,c),u(t,l,s),u(t,m,s);for(let t=0;t<w.length;t+=1)w[t].m(m,null)},p(t,e){if(1&e&&g!==(g=(t[5].select?t[5].select:1)+"")&&b(r,g),1&e&&y!==(y=t[5].repeat?" (repeats allowed)":"")&&b(i,y),1&e){let n;for(v=t[5].options,n=0;n<v.length;n+=1){const r=qr(t,v,n);w[n]?w[n].p(r,e):(w[n]=Zr(r),w[n].c(),w[n].m(m,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=v.length}},d(t){t&&s(e),t&&s(l),t&&s(m),f(w,t)}}}function Hr(t){let e,n,r,o,i,c,l="arcana"===t[5].type?"an arcana":"a discipline",f=t[5].tags.join(", ")+"";return{c(){e=p("p"),n=d("Gain "),r=d(l),o=d(" with the "),i=d(f),c=d(" tags.")},m(t,l){u(t,e,l),a(e,n),a(e,r),a(e,o),a(e,i),a(e,c)},p(t,e){1&e&&l!==(l="arcana"===t[5].type?"an arcana":"a discipline")&&b(r,l),1&e&&f!==(f=t[5].tags.join(", ")+"")&&b(i,f)},d(t){t&&s(e)}}}function Vr(t){let e,n,r,o,i,c,l=t[5].name+"",f=t[5].type+"";return{c(){e=p("p"),n=d("Gain the "),r=d(l),o=h(),i=d(f),c=d(".")},m(t,l){u(t,e,l),a(e,n),a(e,r),a(e,o),a(e,i),a(e,c)},p(t,e){1&e&&l!==(l=t[5].name+"")&&b(r,l),1&e&&f!==(f=t[5].type+"")&&b(i,f)},d(t){t&&s(e)}}}function Zr(t){let e,n,r=t[8]+"";return{c(){e=p("li"),n=d(r)},m(t,r){u(t,e,r),a(e,n)},p(t,e){1&e&&r!==(r=t[8]+"")&&b(n,r)},d(t){t&&s(e)}}}function Qr(t){let e,n,r,o,i,c,l,m,g=(t[5].select?t[5].select:1)+"",y=t[5].repeat?" (repeats allowed)":"",v=t[5].options,w=[];for(let e=0;e<v.length;e+=1)w[e]=Xr(Br(t,v,e));return{c(){e=p("p"),n=d("Choose "),r=d(g),o=d(" of"),i=d(y),c=d(":"),l=h(),m=p("ul");for(let t=0;t<w.length;t+=1)w[t].c()},m(t,s){u(t,e,s),a(e,n),a(e,r),a(e,o),a(e,i),a(e,c),u(t,l,s),u(t,m,s);for(let t=0;t<w.length;t+=1)w[t].m(m,null)},p(t,e){if(1&e&&g!==(g=(t[5].select?t[5].select:1)+"")&&b(r,g),1&e&&y!==(y=t[5].repeat?" (repeats allowed)":"")&&b(i,y),1&e){let n;for(v=t[5].options,n=0;n<v.length;n+=1){const r=Br(t,v,n);w[n]?w[n].p(r,e):(w[n]=Xr(r),w[n].c(),w[n].m(m,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=v.length}},d(t){t&&s(e),t&&s(l),t&&s(m),f(w,t)}}}function Jr(t){let e,n,r,o,i=t[5].stat+"",c=t[5].bonus+"";return{c(){e=p("p"),n=d(i),r=d(" +"),o=d(c)},m(t,i){u(t,e,i),a(e,n),a(e,r),a(e,o)},p(t,e){1&e&&i!==(i=t[5].stat+"")&&b(n,i),1&e&&c!==(c=t[5].bonus+"")&&b(o,c)},d(t){t&&s(e)}}}function Xr(t){let e,n,r,o,i=t[8].stat+"",c=t[8].bonus+"";return{c(){e=p("li"),n=d(i),r=d(" +"),o=d(c)},m(t,i){u(t,e,i),a(e,n),a(e,r),a(e,o)},p(t,e){1&e&&i!==(i=t[8].stat+"")&&b(n,i),1&e&&c!==(c=t[8].bonus+"")&&b(o,c)},d(t){t&&s(e)}}}function to(t){let e,n;function r(t,n){return"passive"===t[5].type?Gr:"stat"===t[5].type?zr:((null==e||1&n)&&(e=!!["arcana","discipline"].includes(t[5].type)),e?Rr:void 0)}let o=r(t,-1),i=o&&o(t);return{c(){i&&i.c(),n=m()},m(t,e){i&&i.m(t,e),u(t,n,e)},p(t,e){o===(o=r(t,e))&&i?i.p(t,e):(i&&i.d(1),i=o&&o(t),i&&(i.c(),i.m(n.parentNode,n)))},d(t){i&&i.d(t),t&&s(n)}}}function eo(t){let e;return{c(){e=p("p"),e.textContent="Automatically gained at level 1"},m(t,n){u(t,e,n)},d(t){t&&s(e)}}}function no(t){let e;return{c(){e=p("p"),e.textContent="Automatically gained at level 6"},m(t,n){u(t,e,n)},d(t){t&&s(e)}}}function ro(t){let e,n,r,o,i,c,l,m,g,y,v=t[0].flavor+"",w=t[0].features,x=[];for(let e=0;e<w.length;e+=1)x[e]=to(Yr(t,w,e));let $="base"===t[0].type&&eo(),A="advanced"===t[0].type&&no();return{c(){for(let t=0;t<x.length;t+=1)x[t].c();e=h(),n=p("br"),r=h(),$&&$.c(),o=h(),A&&A.c(),i=h(),c=p("br"),l=h(),m=p("p"),g=p("i"),y=d(v)},m(t,s){for(let e=0;e<x.length;e+=1)x[e].m(t,s);u(t,e,s),u(t,n,s),u(t,r,s),$&&$.m(t,s),u(t,o,s),A&&A.m(t,s),u(t,i,s),u(t,c,s),u(t,l,s),u(t,m,s),a(m,g),a(g,y)},p(t,n){if(1&n){let r;for(w=t[0].features,r=0;r<w.length;r+=1){const o=Yr(t,w,r);x[r]?x[r].p(o,n):(x[r]=to(o),x[r].c(),x[r].m(e.parentNode,e))}for(;r<x.length;r+=1)x[r].d(1);x.length=w.length}"base"===t[0].type?$||($=eo(),$.c(),$.m(o.parentNode,o)):$&&($.d(1),$=null),"advanced"===t[0].type?A||(A=no(),A.c(),A.m(i.parentNode,i)):A&&(A.d(1),A=null),1&n&&v!==(v=t[0].flavor+"")&&b(y,v)},d(t){f(x,t),t&&s(e),t&&s(n),t&&s(r),$&&$.d(t),t&&s(o),A&&A.d(t),t&&s(i),t&&s(c),t&&s(l),t&&s(m)}}}function oo(t){let e,n,r,o;function i(e){t[3](e)}function c(e){t[4](e)}let l={size:"small",color:t[2],$$slots:{default:[ro]},$$scope:{ctx:t}};return void 0!==t[0].name&&(l.heading=t[0].name),void 0!==t[1]&&(l.open=t[1]),e=new Q({props:l}),A.push((()=>Y(e,"heading",i))),A.push((()=>Y(e,"open",c))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),o=!0},p(t,[o]){const i={};8193&o&&(i.$$scope={dirty:o,ctx:t}),!n&&1&o&&(n=!0,i.heading=t[0].name,I((()=>n=!1))),!r&&2&o&&(r=!0,i.open=t[1],I((()=>r=!1))),e.$set(i)},i(t){o||(D(e.$$.fragment,t),o=!0)},o(t){U(e.$$.fragment,t),o=!1},d(t){R(e,t)}}}function io(t,e,n){let{doc:r}=e,{open:o}=e,i="base"===r.type?"green":"advanced"===r.type?"darkgreen":"blue";return t.$$set=t=>{"doc"in t&&n(0,r=t.doc),"open"in t&&n(1,o=t.open)},[r,o,i,function(e){t.$$.not_equal(r.name,e)&&(r.name=e,n(0,r))},function(t){o=t,n(1,o)}]}Le("./data/arcana.yaml").pipe(Fe((t=>t.text())),Ae((t=>Lr.load(t)))).subscribe(Mr),Le("./data/archetypes.yaml").pipe(Fe((t=>t.text())),Ae((t=>Lr.load(t)))).subscribe(Pr),Le("./data/disciplines.yaml").pipe(Fe((t=>t.text())),Ae((t=>Lr.load(t)))).subscribe(Ur),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ie(t),r=oe(t),o=je(t),i=o.args,c=o.keys;if(0===i.length)return $e([],n);var l=new Vt(Te(i,n,c?function(t){return Ee(c,t)}:Kt));return r?l.pipe(Ce(r)):l}([Le("./data/character-classes.yaml").pipe(Fe((t=>t.text())),Ae((t=>Lr.load(t)))),Pr]).pipe(Ae((([t,e])=>{const n={};return e.forEach((t=>{n[t.name]=t})),t.map((t=>{const e=t.archetypes.map((t=>n[t].aspects));return{...t,aspects:[].concat(t.aspects,...e)}}))}))).subscribe(Dr);class co extends W{constructor(t){super(),G(this,t,io,oo,i,{doc:0,open:1})}}function lo(t,e,n){const r=t.slice();return r[5]=e[n],r[6]=e,r[7]=n,r}function ao(t){let e,n,r,o;function i(e){t[3](e,t[5],t[6],t[7])}function c(e){t[4](e)}let l={};return void 0!==t[5]&&(l.doc=t[5]),void 0!==t[1]&&(l.open=t[1]),e=new co({props:l}),A.push((()=>Y(e,"doc",i))),A.push((()=>Y(e,"open",c))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),o=!0},p(o,i){t=o;const c={};!n&&1&i&&(n=!0,c.doc=t[5],I((()=>n=!1))),!r&&2&i&&(r=!0,c.open=t[1],I((()=>r=!1))),e.$set(c)},i(t){o||(D(e.$$.fragment,t),o=!0)},o(t){U(e.$$.fragment,t),o=!1},d(t){R(e,t)}}}function uo(t){let e,n,r,o,i,c,l,m,v,w,x,$,A=t[0].name+"",k=t[0].aspects,C=[];for(let e=0;e<k.length;e+=1)C[e]=ao(lo(t,k,e));const S=t=>U(C[t],1,1,(()=>{C[t]=null}));return{c(){e=p("div"),n=p("p"),r=p("b"),o=d(A),i=p("b"),l=h(),m=p("div");for(let t=0;t<C.length;t+=1)C[t].c();y(n,"class",c=t[1]?"open":"closed"),y(m,"class","card-collection"),y(e,"class",v=t[1]?"":"card-collection")},m(c,s){u(c,e,s),a(e,n),a(n,r),a(r,o),a(r,i),a(e,l),a(e,m);for(let t=0;t<C.length;t+=1)C[t].m(m,null);w=!0,x||($=g(n,"click",t[2]),x=!0)},p(t,[r]){if((!w||1&r)&&A!==(A=t[0].name+"")&&b(o,A),(!w||2&r&&c!==(c=t[1]?"open":"closed"))&&y(n,"class",c),3&r){let e;for(k=t[0].aspects,e=0;e<k.length;e+=1){const n=lo(t,k,e);C[e]?(C[e].p(n,r),D(C[e],1)):(C[e]=ao(n),C[e].c(),D(C[e],1),C[e].m(m,null))}for(M(),e=k.length;e<C.length;e+=1)S(e);P()}(!w||2&r&&v!==(v=t[1]?"":"card-collection"))&&y(e,"class",v)},i(t){if(!w){for(let t=0;t<k.length;t+=1)D(C[t]);w=!0}},o(t){C=C.filter(Boolean);for(let t=0;t<C.length;t+=1)U(C[t]);w=!1},d(t){t&&s(e),f(C,t),x=!1,$()}}}function so(t,e,n){let{doc:r}=e,{open:o=!0}=e;return console.log(r),t.$$set=t=>{"doc"in t&&n(0,r=t.doc),"open"in t&&n(1,o=t.open)},[r,o,function(){n(1,o=!o)},function(t,e,o,i){o[i]=t,n(0,r)},function(t){o=t,n(1,o)}]}class fo extends W{constructor(t){super(),G(this,t,so,uo,i,{doc:0,open:1})}}function po(t,e,n){const r=t.slice();return r[1]=e[n],r[2]=e,r[3]=n,r}function ho(t){let e,n,r;function o(e){t[0](e,t[1],t[2],t[3])}let i={open:!1};return void 0!==t[1]&&(i.doc=t[1]),e=new fo({props:i}),A.push((()=>Y(e,"doc",o))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),r=!0},p(r,o){t=r;const i={};!n&&0&o&&(n=!0,i.doc=t[1],I((()=>n=!1))),e.$set(i)},i(t){r||(D(e.$$.fragment,t),r=!0)},o(t){U(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function mo(t){let e,n,r=go,o=[];for(let e=0;e<r.length;e+=1)o[e]=ho(po(t,r,e));const i=t=>U(o[t],1,1,(()=>{o[t]=null}));return{c(){e=p("div");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,r){u(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(0&n){let c;for(r=go,c=0;c<r.length;c+=1){const i=po(t,r,c);o[c]?(o[c].p(i,n),D(o[c],1)):(o[c]=ho(i),o[c].c(),D(o[c],1),o[c].m(e,null))}for(M(),c=r.length;c<o.length;c+=1)i(c);P()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)D(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)U(o[t]);n=!1},d(t){t&&s(e),f(o,t)}}}let go=[];function yo(t,e,n){return[function(t,e,n,r){n[r]=t}]}Pr.subscribe((t=>go=t));class bo extends W{constructor(t){super(),G(this,t,yo,mo,i,{})}}function vo(t,e,n){const r=t.slice();return r[1]=e[n],r[2]=e,r[3]=n,r}function wo(t){let e,n,r;function o(e){t[0](e,t[1],t[2],t[3])}let i={open:!1};return void 0!==t[1]&&(i.doc=t[1]),e=new fo({props:i}),A.push((()=>Y(e,"doc",o))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),r=!0},p(r,o){t=r;const i={};!n&&0&o&&(n=!0,i.doc=t[1],I((()=>n=!1))),e.$set(i)},i(t){r||(D(e.$$.fragment,t),r=!0)},o(t){U(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function xo(t){let e,n,r=$o,o=[];for(let e=0;e<r.length;e+=1)o[e]=wo(vo(t,r,e));const i=t=>U(o[t],1,1,(()=>{o[t]=null}));return{c(){e=p("div");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,r){u(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(0&n){let c;for(r=$o,c=0;c<r.length;c+=1){const i=vo(t,r,c);o[c]?(o[c].p(i,n),D(o[c],1)):(o[c]=wo(i),o[c].c(),D(o[c],1),o[c].m(e,null))}for(M(),c=r.length;c<o.length;c+=1)i(c);P()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)D(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)U(o[t]);n=!1},d(t){t&&s(e),f(o,t)}}}let $o=[];function Ao(t,e,n){return[function(t,e,n,r){n[r]=t}]}Dr.subscribe((t=>$o=t));class ko extends W{constructor(t){super(),G(this,t,Ao,xo,i,{})}}function Co(t,e,n){const r=t.slice();return r[1]=e[n],r[2]=e,r[3]=n,r}function So(t){let e,n,r;function o(e){t[0](e,t[1],t[2],t[3])}let i={open:!1};return void 0!==t[1]&&(i.doc=t[1]),e=new ft({props:i}),A.push((()=>Y(e,"doc",o))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),r=!0},p(r,o){t=r;const i={};!n&&0&o&&(n=!0,i.doc=t[1],I((()=>n=!1))),e.$set(i)},i(t){r||(D(e.$$.fragment,t),r=!0)},o(t){U(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function _o(t){let e,n,r=Oo,o=[];for(let e=0;e<r.length;e+=1)o[e]=So(Co(t,r,e));const i=t=>U(o[t],1,1,(()=>{o[t]=null}));return{c(){e=p("div");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,r){u(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(0&n){let c;for(r=Oo,c=0;c<r.length;c+=1){const i=Co(t,r,c);o[c]?(o[c].p(i,n),D(o[c],1)):(o[c]=So(i),o[c].c(),D(o[c],1),o[c].m(e,null))}for(M(),c=r.length;c<o.length;c+=1)i(c);P()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)D(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)U(o[t]);n=!1},d(t){t&&s(e),f(o,t)}}}let Oo=[];function Io(t,e,n){return[function(t,e,n,r){n[r]=t}]}Mr.subscribe((t=>Oo=t));class jo extends W{constructor(t){super(),G(this,t,Io,_o,i,{})}}function Eo(t,e,n){const r=t.slice();return r[1]=e[n],r[2]=e,r[3]=n,r}function To(t){let e,n,r;function o(e){t[0](e,t[1],t[2],t[3])}let i={open:!1};return void 0!==t[1]&&(i.doc=t[1]),e=new ft({props:i}),A.push((()=>Y(e,"doc",o))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),r=!0},p(r,o){t=r;const i={};!n&&0&o&&(n=!0,i.doc=t[1],I((()=>n=!1))),e.$set(i)},i(t){r||(D(e.$$.fragment,t),r=!0)},o(t){U(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function No(t){let e,n,r=Fo,o=[];for(let e=0;e<r.length;e+=1)o[e]=To(Eo(t,r,e));const i=t=>U(o[t],1,1,(()=>{o[t]=null}));return{c(){e=p("div");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,r){u(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(0&n){let c;for(r=Fo,c=0;c<r.length;c+=1){const i=Eo(t,r,c);o[c]?(o[c].p(i,n),D(o[c],1)):(o[c]=To(i),o[c].c(),D(o[c],1),o[c].m(e,null))}for(M(),c=r.length;c<o.length;c+=1)i(c);P()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)D(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)U(o[t]);n=!1},d(t){t&&s(e),f(o,t)}}}let Fo=[];function Lo(t,e,n){return[function(t,e,n,r){n[r]=t}]}Ur.subscribe((t=>Fo=t));class Mo extends W{constructor(t){super(),G(this,t,Lo,No,i,{})}}function Po(t,e,n){const r=t.slice();return r[5]=e[n],r[6]=e,r[7]=n,r}function Do(t,e,n){const r=t.slice();return r[8]=e[n],r[9]=e,r[10]=n,r}function Uo(t,e,n){const r=t.slice();return r[11]=e[n][0],r[12]=e[n][1],r}function Yo(t,e,n){const r=t.slice();return r[11]=e[n][0],r[12]=e[n][1],r}function qo(t){let e,n,r,o,i;n=new Q({props:{size:"small",heading:"Stats",open:!0,$$slots:{default:[zo]},$$scope:{ctx:t}}});let c=t[0].aspects,l=[];for(let e=0;e<c.length;e+=1)l[e]=Go(Do(t,c,e));const d=t=>U(l[t],1,1,(()=>{l[t]=null}));let m=t[0].actions,g=[];for(let e=0;e<m.length;e+=1)g[e]=Wo(Po(t,m,e));const b=t=>U(g[t],1,1,(()=>{g[t]=null}));return{c(){e=p("div"),q(n.$$.fragment),r=h();for(let t=0;t<l.length;t+=1)l[t].c();o=h();for(let t=0;t<g.length;t+=1)g[t].c();y(e,"class","card-collection")},m(t,c){u(t,e,c),B(n,e,null),a(e,r);for(let t=0;t<l.length;t+=1)l[t].m(e,null);a(e,o);for(let t=0;t<g.length;t+=1)g[t].m(e,null);i=!0},p(t,r){const i={};if(131073&r&&(i.$$scope={dirty:r,ctx:t}),n.$set(i),1&r){let n;for(c=t[0].aspects,n=0;n<c.length;n+=1){const i=Do(t,c,n);l[n]?(l[n].p(i,r),D(l[n],1)):(l[n]=Go(i),l[n].c(),D(l[n],1),l[n].m(e,o))}for(M(),n=c.length;n<l.length;n+=1)d(n);P()}if(1&r){let n;for(m=t[0].actions,n=0;n<m.length;n+=1){const o=Po(t,m,n);g[n]?(g[n].p(o,r),D(g[n],1)):(g[n]=Wo(o),g[n].c(),D(g[n],1),g[n].m(e,null))}for(M(),n=m.length;n<g.length;n+=1)b(n);P()}},i(t){if(!i){D(n.$$.fragment,t);for(let t=0;t<c.length;t+=1)D(l[t]);for(let t=0;t<m.length;t+=1)D(g[t]);i=!0}},o(t){U(n.$$.fragment,t),l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)U(l[t]);g=g.filter(Boolean);for(let t=0;t<g.length;t+=1)U(g[t]);i=!1},d(t){t&&s(e),R(n),f(l,t),f(g,t)}}}function Bo(t){let e,n,r,o,i,c,l,f=t[11]+"",h=t[12]+"";return{c(){e=p("tr"),n=p("td"),r=p("b"),o=d(f),i=p("td"),c=d(h),l=p("td"),y(n,"class","stat")},m(t,s){u(t,e,s),a(e,n),a(n,r),a(r,o),a(e,i),a(i,c),a(e,l)},p(t,e){1&e&&f!==(f=t[11]+"")&&b(o,f),1&e&&h!==(h=t[12]+"")&&b(c,h)},d(t){t&&s(e)}}}function Ro(t){let e,n,r,o,i,c,l,f=t[11]+"",h=t[12]+"";return{c(){e=p("tr"),n=p("td"),r=p("b"),o=d(f),i=p("td"),c=d(h),l=p("td"),y(n,"class","stat")},m(t,s){u(t,e,s),a(e,n),a(n,r),a(r,o),a(e,i),a(i,c),a(e,l)},p(t,e){1&e&&f!==(f=t[11]+"")&&b(o,f),1&e&&h!==(h=t[12]+"")&&b(c,h)},d(t){t&&s(e)}}}function zo(t){let e,n,r,o,i=Object.entries(t[0].stats),c=[];for(let e=0;e<i.length;e+=1)c[e]=Bo(Yo(t,i,e));let l=Object.entries(t[0].saves),d=[];for(let e=0;e<l.length;e+=1)d[e]=Ro(Uo(t,l,e));return{c(){e=p("div"),n=p("table");for(let t=0;t<c.length;t+=1)c[t].c();r=h(),o=p("table");for(let t=0;t<d.length;t+=1)d[t].c();y(n,"class","statblock"),y(o,"class","statblock"),y(e,"class","card-collection")},m(t,i){u(t,e,i),a(e,n);for(let t=0;t<c.length;t+=1)c[t].m(n,null);a(e,r),a(e,o);for(let t=0;t<d.length;t+=1)d[t].m(o,null)},p(t,e){if(1&e){let r;for(i=Object.entries(t[0].stats),r=0;r<i.length;r+=1){const o=Yo(t,i,r);c[r]?c[r].p(o,e):(c[r]=Bo(o),c[r].c(),c[r].m(n,null))}for(;r<c.length;r+=1)c[r].d(1);c.length=i.length}if(1&e){let n;for(l=Object.entries(t[0].saves),n=0;n<l.length;n+=1){const r=Uo(t,l,n);d[n]?d[n].p(r,e):(d[n]=Ro(r),d[n].c(),d[n].m(o,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=l.length}},d(t){t&&s(e),f(c,t),f(d,t)}}}function Go(t){let e,n,r;function o(e){t[3](e,t[8],t[9],t[10])}let i={open:!0};return void 0!==t[8]&&(i.doc=t[8]),e=new co({props:i}),A.push((()=>Y(e,"doc",o))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),r=!0},p(r,o){t=r;const i={};!n&&1&o&&(n=!0,i.doc=t[8],I((()=>n=!1))),e.$set(i)},i(t){r||(D(e.$$.fragment,t),r=!0)},o(t){U(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Wo(t){let e,n,r;function o(e){t[4](e,t[5],t[6],t[7])}let i={open:!0};return void 0!==t[5]&&(i.doc=t[5]),e=new ct({props:i}),A.push((()=>Y(e,"doc",o))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),r=!0},p(r,o){t=r;const i={};!n&&1&o&&(n=!0,i.doc=t[5],I((()=>n=!1))),e.$set(i)},i(t){r||(D(e.$$.fragment,t),r=!0)},o(t){U(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Ko(t){let e,n,r,o,i,c,l,f,m,v,w,x,$,A,k,C=t[0].name+"",S=t[0].characterClass+"",_=t[0].blurb+"",O=t[1]&&qo(t);return{c(){e=p("div"),n=p("p"),r=p("b"),o=d(C),i=d(" - "),c=d(S),l=d(" - "),f=p("i"),m=d(_),v=p("i"),w=h(),O&&O.c(),y(e,"class",x=t[1]?"open":"closed")},m(s,p){u(s,e,p),a(e,n),a(n,r),a(r,o),a(r,i),a(n,c),a(n,l),a(n,f),a(f,m),a(f,v),a(e,w),O&&O.m(e,null),$=!0,A||(k=g(n,"click",t[2]),A=!0)},p(t,[n]){(!$||1&n)&&C!==(C=t[0].name+"")&&b(o,C),(!$||1&n)&&S!==(S=t[0].characterClass+"")&&b(c,S),(!$||1&n)&&_!==(_=t[0].blurb+"")&&b(m,_),t[1]?O?(O.p(t,n),2&n&&D(O,1)):(O=qo(t),O.c(),D(O,1),O.m(e,null)):O&&(M(),U(O,1,1,(()=>{O=null})),P()),(!$||2&n&&x!==(x=t[1]?"open":"closed"))&&y(e,"class",x)},i(t){$||(D(O),$=!0)},o(t){U(O),$=!1},d(t){t&&s(e),O&&O.d(),A=!1,k()}}}function Ho(t,e,n){let{doc:r}=e,{open:o=!1}=e;return t.$$set=t=>{"doc"in t&&n(0,r=t.doc),"open"in t&&n(1,o=t.open)},[r,o,function(){n(1,o=!o)},function(t,e,o,i){o[i]=t,n(0,r)},function(t,e,o,i){o[i]=t,n(0,r)}]}class Vo extends W{constructor(t){super(),G(this,t,Ho,Ko,i,{doc:0,open:1})}}function Zo(t,e,n){const r=t.slice();return r[1]=e[n],r[2]=e,r[3]=n,r}function Qo(t){let e,n,r;function o(e){t[0](e,t[1],t[2],t[3])}let i={open:!1};return void 0!==t[1]&&(i.doc=t[1]),e=new Vo({props:i}),A.push((()=>Y(e,"doc",o))),{c(){q(e.$$.fragment)},m(t,n){B(e,t,n),r=!0},p(r,o){t=r;const i={};!n&&0&o&&(n=!0,i.doc=t[1],I((()=>n=!1))),e.$set(i)},i(t){r||(D(e.$$.fragment,t),r=!0)},o(t){U(e.$$.fragment,t),r=!1},d(t){R(e,t)}}}function Jo(t){let e,n,r=Xo,o=[];for(let e=0;e<r.length;e+=1)o[e]=Qo(Zo(t,r,e));const i=t=>U(o[t],1,1,(()=>{o[t]=null}));return{c(){e=p("div");for(let t=0;t<o.length;t+=1)o[t].c()},m(t,r){u(t,e,r);for(let t=0;t<o.length;t+=1)o[t].m(e,null);n=!0},p(t,[n]){if(0&n){let c;for(r=Xo,c=0;c<r.length;c+=1){const i=Zo(t,r,c);o[c]?(o[c].p(i,n),D(o[c],1)):(o[c]=Qo(i),o[c].c(),D(o[c],1),o[c].m(e,null))}for(M(),c=r.length;c<o.length;c+=1)i(c);P()}},i(t){if(!n){for(let t=0;t<r.length;t+=1)D(o[t]);n=!0}},o(t){o=o.filter(Boolean);for(let t=0;t<o.length;t+=1)U(o[t]);n=!1},d(t){t&&s(e),f(o,t)}}}let Xo=[{name:"Frederick",blurb:"A bold fellow if ever there was one.",characterClass:"Dragonsteel",stats:{Evasion:4,Defense:5,Resilience:3,Speed:6,Energy:4,Focus:7},saves:{Perception:2,Fortitude:3,Reflex:1},aspects:[{name:"Fortified",type:"base",flavor:"You have begun experimenting with enhancing the power of your blood with the power of alchemy.",features:[{type:"stat",stat:"Fortitude",bonus:2},{type:"stat",stat:"Perception",bonus:2},{type:"stat",stat:"Will",bonus:2},{type:"passive",name:"Power from Pain",description:"Gain +2 to all saves. When you take a wound, you regain one energy."}]}],actions:[{name:"Inscribe",action:"Ritual",ritual:"Time based on rune",description:"You etch and mystically enchant runes on an object, willing creature, or bound creature. The runes have a wide variety of effects. A target can have multiple runes inscribed on it, but only one effect of those runes can be triggered at once."},{name:"Activate",action:"Tactics",repeatable:"true",uses:"Energy",concentration:"Focus",duration:"Depends on rune",description:"Activate a rune on a target for the appropriate duration or until you stop concentrating on the spell."},{name:"Brew",action:"Ritual",ritual:"Time and money based on potion or poison",description:"You craft a potion, ointment, or poison that can be applied once (see below)\n        by any creature in possession of the potion or poison.\n        The cost is Â¼ of the base cost of the item in a typical market.\n        GMs may rule that you can find appropriate ingredients through roleplaying\n        ventures including skill checks in appropriate areas."},{name:"Apply",action:"Tactics",repeatable:!0,uses:"At-Will",duration:"Depends on potion or poison",description:"Activate a potion or poison for the appropriate duration."}]}];function ti(t,e,n){return[function(t,e,n,r){n[r]=t}]}class ei extends W{constructor(t){super(),G(this,t,ti,Jo,i,{})}}function ni(t){let e,n;return e=new ko({}),{c(){q(e.$$.fragment)},m(t,r){B(e,t,r),n=!0},i(t){n||(D(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function ri(t){let e,n;return e=new bo({}),{c(){q(e.$$.fragment)},m(t,r){B(e,t,r),n=!0},i(t){n||(D(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function oi(t){let e,n;return e=new jo({}),{c(){q(e.$$.fragment)},m(t,r){B(e,t,r),n=!0},i(t){n||(D(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function ii(t){let e,n;return e=new Mo({}),{c(){q(e.$$.fragment)},m(t,r){B(e,t,r),n=!0},i(t){n||(D(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function ci(t){let e,n;return e=new ei({}),{c(){q(e.$$.fragment)},m(t,r){B(e,t,r),n=!0},i(t){n||(D(e.$$.fragment,t),n=!0)},o(t){U(e.$$.fragment,t),n=!1},d(t){R(e,t)}}}function li(t){let e,n,o,i,c,f,m,b,v,w,x,$,A,k,C,S,_,O,I,j,E,T,N,F,L,Y,q,B,R,z,G,W,K,H,V="classes"===t[0]&&ni(),Z="archetypes"===t[0]&&ri(),Q="arcana"===t[0]&&oi(),J="disciplines"===t[0]&&ii(),X="prototypes"===t[0]&&ci();return{c(){e=p("nav"),n=p("button"),o=d("Classes"),c=h(),f=p("button"),m=d("Archetypes"),v=h(),w=p("button"),x=d("Arcana"),A=h(),k=p("button"),C=d("Disciplines"),_=h(),O=p("button"),I=d("Prototypes"),E=h(),T=p("main"),N=p("h1"),N.textContent="DRAGONSTEEL",F=h(),L=p("p"),L.textContent="Built with Ersatz",Y=h(),q=p("div"),V&&V.c(),B=h(),Z&&Z.c(),R=h(),Q&&Q.c(),z=h(),J&&J.c(),G=h(),X&&X.c(),y(n,"class",i=l("classes"===t[0]?"active":"")+" svelte-1fe930i"),y(f,"class",b=l("archetypes"===t[0]?"active":"")+" svelte-1fe930i"),y(w,"class",$=l("arcana"===t[0]?"active":"")+" svelte-1fe930i"),y(k,"class",S=l("disciplines"===t[0]?"active":"")+" svelte-1fe930i"),y(O,"class",j=l("prototypes"===t[0]?"active":"")+" svelte-1fe930i"),y(e,"class","svelte-1fe930i"),y(N,"class","svelte-1fe930i"),y(q,"class","content"),y(T,"class","svelte-1fe930i")},m(r,i){u(r,e,i),a(e,n),a(n,o),a(e,c),a(e,f),a(f,m),a(e,v),a(e,w),a(w,x),a(e,A),a(e,k),a(k,C),a(e,_),a(e,O),a(O,I),u(r,E,i),u(r,T,i),a(T,N),a(T,F),a(T,L),a(T,Y),a(T,q),V&&V.m(q,null),a(q,B),Z&&Z.m(q,null),a(q,R),Q&&Q.m(q,null),a(q,z),J&&J.m(q,null),a(q,G),X&&X.m(q,null),W=!0,K||(H=[g(n,"click",t[2]),g(f,"click",t[3]),g(w,"click",t[4]),g(k,"click",t[5]),g(O,"click",t[6])],K=!0)},p(t,[e]){(!W||1&e&&i!==(i=l("classes"===t[0]?"active":"")+" svelte-1fe930i"))&&y(n,"class",i),(!W||1&e&&b!==(b=l("archetypes"===t[0]?"active":"")+" svelte-1fe930i"))&&y(f,"class",b),(!W||1&e&&$!==($=l("arcana"===t[0]?"active":"")+" svelte-1fe930i"))&&y(w,"class",$),(!W||1&e&&S!==(S=l("disciplines"===t[0]?"active":"")+" svelte-1fe930i"))&&y(k,"class",S),(!W||1&e&&j!==(j=l("prototypes"===t[0]?"active":"")+" svelte-1fe930i"))&&y(O,"class",j),"classes"===t[0]?V?1&e&&D(V,1):(V=ni(),V.c(),D(V,1),V.m(q,B)):V&&(M(),U(V,1,1,(()=>{V=null})),P()),"archetypes"===t[0]?Z?1&e&&D(Z,1):(Z=ri(),Z.c(),D(Z,1),Z.m(q,R)):Z&&(M(),U(Z,1,1,(()=>{Z=null})),P()),"arcana"===t[0]?Q?1&e&&D(Q,1):(Q=oi(),Q.c(),D(Q,1),Q.m(q,z)):Q&&(M(),U(Q,1,1,(()=>{Q=null})),P()),"disciplines"===t[0]?J?1&e&&D(J,1):(J=ii(),J.c(),D(J,1),J.m(q,G)):J&&(M(),U(J,1,1,(()=>{J=null})),P()),"prototypes"===t[0]?X?1&e&&D(X,1):(X=ci(),X.c(),D(X,1),X.m(q,null)):X&&(M(),U(X,1,1,(()=>{X=null})),P())},i(t){W||(D(V),D(Z),D(Q),D(J),D(X),W=!0)},o(t){U(V),U(Z),U(Q),U(J),U(X),W=!1},d(t){t&&s(e),t&&s(E),t&&s(T),V&&V.d(),Z&&Z.d(),Q&&Q.d(),J&&J.d(),X&&X.d(),K=!1,r(H)}}}function ai(t,e,n){let r="";function o(t){n(0,r=t!==r?t:"")}return[r,o,()=>o("classes"),()=>o("archetypes"),()=>o("arcana"),()=>o("disciplines"),()=>o("prototypes")]}return new class extends W{constructor(t){super(),G(this,t,ai,li,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
